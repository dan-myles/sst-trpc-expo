{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":82,"column":46,"index":2705}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":82,"column":46,"index":2705}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getActionFromState = getActionFromState;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  var createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n      k = _ref2[0],\n      v = _ref2[1];\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":92,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"getActionFromState"],[8,28,1,13],[8,31,1,13,"getActionFromState"],[8,49,1,13],[9,2,1,13],[9,6,1,13,"_slicedToArray2"],[9,21,1,13],[9,24,1,13,"_interopRequireDefault"],[9,46,1,13],[9,47,1,13,"require"],[9,54,1,13],[9,55,1,13,"_dependencyMap"],[9,69,1,13],[10,2,3,7],[10,11,3,16,"getActionFromState"],[10,29,3,34,"getActionFromState"],[10,30,3,35,"state"],[10,35,3,40],[10,37,3,42,"options"],[10,44,3,49],[10,46,3,51],[11,4,4,2],[12,4,5,2],[12,8,5,8,"normalizedConfig"],[12,24,5,24],[12,27,5,27,"options"],[12,34,5,34],[12,37,5,37,"createNormalizedConfigItem"],[12,63,5,63],[12,64,5,64,"options"],[12,71,5,71],[12,72,5,72],[12,75,5,75],[12,76,5,76],[12,77,5,77],[13,4,6,2],[13,8,6,8,"routes"],[13,14,6,14],[13,17,6,17,"state"],[13,22,6,22],[13,23,6,23,"index"],[13,28,6,28],[13,32,6,32],[13,36,6,36],[13,39,6,39,"state"],[13,44,6,44],[13,45,6,45,"routes"],[13,51,6,51],[13,52,6,52,"slice"],[13,57,6,57],[13,58,6,58],[13,59,6,59],[13,61,6,61,"state"],[13,66,6,66],[13,67,6,67,"index"],[13,72,6,72],[13,75,6,75],[13,76,6,76],[13,77,6,77],[13,80,6,80,"state"],[13,85,6,85],[13,86,6,86,"routes"],[13,92,6,92],[14,4,7,2],[14,8,7,6,"routes"],[14,14,7,12],[14,15,7,13,"length"],[14,21,7,19],[14,26,7,24],[14,27,7,25],[14,29,7,27],[15,6,8,4],[15,13,8,11,"undefined"],[15,22,8,20],[16,4,9,2],[17,4,10,2],[17,8,10,6],[17,10,10,8,"routes"],[17,16,10,14],[17,17,10,15,"length"],[17,23,10,21],[17,28,10,26],[17,29,10,27],[17,33,10,31,"routes"],[17,39,10,37],[17,40,10,38],[17,41,10,39],[17,42,10,40],[17,43,10,41,"key"],[17,46,10,44],[17,51,10,49,"undefined"],[17,60,10,58],[17,64,10,62,"routes"],[17,70,10,68],[17,71,10,69,"length"],[17,77,10,75],[17,82,10,80],[17,83,10,81],[17,87,10,85,"routes"],[17,93,10,91],[17,94,10,92],[17,95,10,93],[17,96,10,94],[17,97,10,95,"key"],[17,100,10,98],[17,105,10,103,"undefined"],[17,114,10,112],[17,118,10,116,"routes"],[17,124,10,122],[17,125,10,123],[17,126,10,124],[17,127,10,125],[17,128,10,126,"name"],[17,132,10,130],[17,137,10,135,"normalizedConfig"],[17,153,10,151],[17,155,10,153,"initialRouteName"],[17,171,10,169],[17,175,10,173,"routes"],[17,181,10,179],[17,182,10,180],[17,183,10,181],[17,184,10,182],[17,185,10,183,"key"],[17,188,10,186],[17,193,10,191,"undefined"],[17,202,10,200],[17,203,10,201],[17,205,10,203],[18,6,11,4],[18,13,11,11],[19,8,12,6,"type"],[19,12,12,10],[19,14,12,12],[19,21,12,19],[20,8,13,6,"payload"],[20,15,13,13],[20,17,13,15,"state"],[21,6,14,4],[21,7,14,5],[22,4,15,2],[23,4,16,2],[23,8,16,8,"route"],[23,13,16,13],[23,16,16,16,"state"],[23,21,16,21],[23,22,16,22,"routes"],[23,28,16,28],[23,29,16,29,"state"],[23,34,16,34],[23,35,16,35,"index"],[23,40,16,40],[23,44,16,44,"state"],[23,49,16,49],[23,50,16,50,"routes"],[23,56,16,56],[23,57,16,57,"length"],[23,63,16,63],[23,66,16,66],[23,67,16,67],[23,68,16,68],[24,4,17,2],[24,8,17,6,"current"],[24,15,17,13],[24,18,17,16,"route"],[24,23,17,21],[24,25,17,23,"state"],[24,30,17,28],[25,4,18,2],[25,8,18,6,"config"],[25,14,18,12],[25,17,18,15,"normalizedConfig"],[25,33,18,31],[25,35,18,33,"screens"],[25,42,18,40],[25,45,18,43,"route"],[25,50,18,48],[25,52,18,50,"name"],[25,56,18,54],[25,57,18,55],[26,4,19,2],[26,8,19,6,"params"],[26,14,19,12],[26,17,19,15],[27,6,20,4],[27,9,20,7,"route"],[27,14,20,12],[27,15,20,13,"params"],[28,4,21,2],[28,5,21,3],[29,4,22,2],[29,8,22,8,"payload"],[29,15,22,15],[29,18,22,18,"route"],[29,23,22,23],[29,26,22,26],[30,6,23,4,"name"],[30,10,23,8],[30,12,23,10,"route"],[30,17,23,15],[30,18,23,16,"name"],[30,22,23,20],[31,6,24,4,"path"],[31,10,24,8],[31,12,24,10,"route"],[31,17,24,15],[31,18,24,16,"path"],[31,22,24,20],[32,6,25,4,"params"],[33,4,26,2],[33,5,26,3],[33,8,26,6,"undefined"],[33,17,26,15],[34,4,27,2],[34,11,27,9,"current"],[34,18,27,16],[34,20,27,18],[35,6,28,4],[35,10,28,8,"current"],[35,17,28,15],[35,18,28,16,"routes"],[35,24,28,22],[35,25,28,23,"length"],[35,31,28,29],[35,36,28,34],[35,37,28,35],[35,39,28,37],[36,8,29,6],[36,15,29,13,"undefined"],[36,24,29,22],[37,6,30,4],[38,6,31,4],[38,10,31,10,"routes"],[38,17,31,16],[38,20,31,19,"current"],[38,27,31,26],[38,28,31,27,"index"],[38,33,31,32],[38,37,31,36],[38,41,31,40],[38,44,31,43,"current"],[38,51,31,50],[38,52,31,51,"routes"],[38,58,31,57],[38,59,31,58,"slice"],[38,64,31,63],[38,65,31,64],[38,66,31,65],[38,68,31,67,"current"],[38,75,31,74],[38,76,31,75,"index"],[38,81,31,80],[38,84,31,83],[38,85,31,84],[38,86,31,85],[38,89,31,88,"current"],[38,96,31,95],[38,97,31,96,"routes"],[38,103,31,102],[39,6,32,4],[39,10,32,10,"route"],[39,16,32,15],[39,19,32,18,"routes"],[39,26,32,24],[39,27,32,25,"routes"],[39,34,32,31],[39,35,32,32,"length"],[39,41,32,38],[39,44,32,41],[39,45,32,42],[39,46,32,43],[41,6,34,4],[42,6,35,4,"Object"],[42,12,35,10],[42,13,35,11,"assign"],[42,19,35,17],[42,20,35,18,"params"],[42,26,35,24],[42,28,35,26],[43,8,36,6,"initial"],[43,15,36,13],[43,17,36,15,"undefined"],[43,26,36,24],[44,8,37,6,"screen"],[44,14,37,12],[44,16,37,14,"undefined"],[44,25,37,23],[45,8,38,6,"params"],[45,14,38,12],[45,16,38,14,"undefined"],[45,25,38,23],[46,8,39,6,"state"],[46,13,39,11],[46,15,39,13,"undefined"],[47,6,40,4],[47,7,40,5],[47,8,40,6],[48,6,41,4],[48,10,41,8,"routes"],[48,17,41,14],[48,18,41,15,"length"],[48,24,41,21],[48,29,41,26],[48,30,41,27],[48,34,41,31,"routes"],[48,41,41,37],[48,42,41,38],[48,43,41,39],[48,44,41,40],[48,45,41,41,"key"],[48,48,41,44],[48,53,41,49,"undefined"],[48,62,41,58],[48,64,41,60],[49,8,42,6,"params"],[49,14,42,12],[49,15,42,13,"initial"],[49,22,42,20],[49,25,42,23],[49,29,42,27],[50,8,43,6,"params"],[50,14,43,12],[50,15,43,13,"screen"],[50,21,43,19],[50,24,43,22,"route"],[50,30,43,27],[50,31,43,28,"name"],[50,35,43,32],[51,6,44,4],[51,7,44,5],[51,13,44,11],[51,17,44,15,"routes"],[51,24,44,21],[51,25,44,22,"length"],[51,31,44,28],[51,36,44,33],[51,37,44,34],[51,41,44,38,"routes"],[51,48,44,44],[51,49,44,45],[51,50,44,46],[51,51,44,47],[51,52,44,48,"key"],[51,55,44,51],[51,60,44,56,"undefined"],[51,69,44,65],[51,73,44,69,"routes"],[51,80,44,75],[51,81,44,76],[51,82,44,77],[51,83,44,78],[51,84,44,79,"name"],[51,88,44,83],[51,93,44,88,"config"],[51,99,44,94],[51,101,44,96,"initialRouteName"],[51,117,44,112],[51,121,44,116,"routes"],[51,128,44,122],[51,129,44,123],[51,130,44,124],[51,131,44,125],[51,132,44,126,"key"],[51,135,44,129],[51,140,44,134,"undefined"],[51,149,44,143],[51,151,44,145],[52,8,45,6,"params"],[52,14,45,12],[52,15,45,13,"initial"],[52,22,45,20],[52,25,45,23],[52,30,45,28],[53,8,46,6,"params"],[53,14,46,12],[53,15,46,13,"screen"],[53,21,46,19],[53,24,46,22,"route"],[53,30,46,27],[53,31,46,28,"name"],[53,35,46,32],[54,6,47,4],[54,7,47,5],[54,13,47,11],[55,8,48,6,"params"],[55,14,48,12],[55,15,48,13,"state"],[55,20,48,18],[55,23,48,21,"current"],[55,30,48,28],[56,8,49,6],[57,6,50,4],[58,6,51,4],[58,10,51,8,"route"],[58,16,51,13],[58,17,51,14,"state"],[58,22,51,19],[58,24,51,21],[59,8,52,6,"params"],[59,14,52,12],[59,15,52,13,"params"],[59,21,52,19],[59,24,52,22],[60,10,53,8],[60,13,53,11,"route"],[60,19,53,16],[60,20,53,17,"params"],[61,8,54,6],[61,9,54,7],[62,8,55,6,"params"],[62,14,55,12],[62,17,55,15,"params"],[62,23,55,21],[62,24,55,22,"params"],[62,30,55,28],[63,6,56,4],[63,7,56,5],[63,13,56,11],[64,8,57,6,"params"],[64,14,57,12],[64,15,57,13,"path"],[64,19,57,17],[64,22,57,20,"route"],[64,28,57,25],[64,29,57,26,"path"],[64,33,57,30],[65,8,58,6,"params"],[65,14,58,12],[65,15,58,13,"params"],[65,21,58,19],[65,24,58,22,"route"],[65,30,58,27],[65,31,58,28,"params"],[65,37,58,34],[66,6,59,4],[67,6,60,4,"current"],[67,13,60,11],[67,16,60,14,"route"],[67,22,60,19],[67,23,60,20,"state"],[67,28,60,25],[68,6,61,4,"config"],[68,12,61,10],[68,15,61,13,"config"],[68,21,61,19],[68,23,61,21,"screens"],[68,30,61,28],[68,33,61,31,"route"],[68,39,61,36],[68,40,61,37,"name"],[68,44,61,41],[68,45,61,42],[69,4,62,2],[70,4,63,2],[70,8,63,6],[70,9,63,7,"payload"],[70,16,63,14],[70,18,63,16],[71,6,64,4],[72,4,65,2],[74,4,67,2],[75,4,68,2],[76,4,69,2],[76,11,69,9],[77,6,70,4,"type"],[77,10,70,8],[77,12,70,10],[77,22,70,20],[78,6,71,4,"payload"],[79,4,72,2],[79,5,72,3],[80,2,73,0],[81,2,74,0],[81,6,74,6,"createNormalizedConfigItem"],[81,32,74,32],[81,35,74,35,"config"],[81,41,74,41],[81,45,74,45],[81,52,74,52,"config"],[81,58,74,58],[81,63,74,63],[81,71,74,71],[81,75,74,75,"config"],[81,81,74,81],[81,85,74,85],[81,89,74,89],[81,92,74,92],[82,4,75,2,"initialRouteName"],[82,20,75,18],[82,22,75,20,"config"],[82,28,75,26],[82,29,75,27,"initialRouteName"],[82,45,75,43],[83,4,76,2,"screens"],[83,11,76,9],[83,13,76,11,"config"],[83,19,76,17],[83,20,76,18,"screens"],[83,27,76,25],[83,31,76,29],[83,35,76,33],[83,38,76,36,"createNormalizedConfigs"],[83,61,76,59],[83,62,76,60,"config"],[83,68,76,66],[83,69,76,67,"screens"],[83,76,76,74],[83,77,76,75],[83,80,76,78,"undefined"],[84,2,77,0],[84,3,77,1],[84,6,77,4],[84,7,77,5],[84,8,77,6],[85,2,78,0],[85,6,78,6,"createNormalizedConfigs"],[85,29,78,29],[85,32,78,32,"options"],[85,39,78,39],[85,43,78,43,"Object"],[85,49,78,49],[85,50,78,50,"entries"],[85,57,78,57],[85,58,78,58,"options"],[85,65,78,65],[85,66,78,66],[85,67,78,67,"reduce"],[85,73,78,73],[85,74,78,74],[85,75,78,75,"acc"],[85,78,78,78],[85,80,78,78,"_ref"],[85,84,78,78],[85,89,78,91],[86,4,78,91],[86,8,78,91,"_ref2"],[86,13,78,91],[86,20,78,91,"_slicedToArray2"],[86,35,78,91],[86,36,78,91,"default"],[86,43,78,91],[86,45,78,91,"_ref"],[86,49,78,91],[87,6,78,81,"k"],[87,7,78,82],[87,10,78,82,"_ref2"],[87,15,78,82],[88,6,78,84,"v"],[88,7,78,85],[88,10,78,85,"_ref2"],[88,15,78,85],[89,4,79,2,"acc"],[89,7,79,5],[89,8,79,6,"k"],[89,9,79,7],[89,10,79,8],[89,13,79,11,"createNormalizedConfigItem"],[89,39,79,37],[89,40,79,38,"v"],[89,41,79,39],[89,42,79,40],[90,4,80,2],[90,11,80,9,"acc"],[90,14,80,12],[91,2,81,0],[91,3,81,1],[91,5,81,3],[91,6,81,4],[91,7,81,5],[91,8,81,6],[92,0,81,7],[92,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;OCE;CDsE;mCEC;MFG;gCGC,0CC;CDG,KH"}},"type":"js/module"}]}