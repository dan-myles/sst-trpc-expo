{"dependencies":[{"name":"../rpc/codes.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":62,"index":62}}],"key":"41uSBxeFGZUc6Xz8Pl6WE8dSMnQ="}},{"name":"../utils.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":63},"end":{"line":2,"column":40,"index":103}}],"key":"Fat1H7ILw/aiXtTd5J3KzMpI+dk="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.JSONRPC2_TO_HTTP_CODE = exports.HTTP_CODE_TO_JSONRPC2 = void 0;\n  exports.getHTTPStatusCode = getHTTPStatusCode;\n  exports.getHTTPStatusCodeFromError = getHTTPStatusCodeFromError;\n  exports.getStatusCodeFromKey = getStatusCodeFromKey;\n  exports.getStatusKeyFromCode = getStatusKeyFromCode;\n  var _codes = require(_dependencyMap[0], \"../rpc/codes.mjs\");\n  var _utils = require(_dependencyMap[1], \"../utils.mjs\");\n  var JSONRPC2_TO_HTTP_CODE = exports.JSONRPC2_TO_HTTP_CODE = {\n    PARSE_ERROR: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    FORBIDDEN: 403,\n    NOT_FOUND: 404,\n    METHOD_NOT_SUPPORTED: 405,\n    TIMEOUT: 408,\n    CONFLICT: 409,\n    PRECONDITION_FAILED: 412,\n    PAYLOAD_TOO_LARGE: 413,\n    UNSUPPORTED_MEDIA_TYPE: 415,\n    UNPROCESSABLE_CONTENT: 422,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_CLOSED_REQUEST: 499,\n    INTERNAL_SERVER_ERROR: 500,\n    NOT_IMPLEMENTED: 501,\n    BAD_GATEWAY: 502,\n    SERVICE_UNAVAILABLE: 503,\n    GATEWAY_TIMEOUT: 504\n  };\n  var HTTP_CODE_TO_JSONRPC2 = exports.HTTP_CODE_TO_JSONRPC2 = {\n    400: 'BAD_REQUEST',\n    401: 'UNAUTHORIZED',\n    403: 'FORBIDDEN',\n    404: 'NOT_FOUND',\n    405: 'METHOD_NOT_SUPPORTED',\n    408: 'TIMEOUT',\n    409: 'CONFLICT',\n    412: 'PRECONDITION_FAILED',\n    413: 'PAYLOAD_TOO_LARGE',\n    415: 'UNSUPPORTED_MEDIA_TYPE',\n    422: 'UNPROCESSABLE_CONTENT',\n    429: 'TOO_MANY_REQUESTS',\n    499: 'CLIENT_CLOSED_REQUEST',\n    500: 'INTERNAL_SERVER_ERROR',\n    501: 'NOT_IMPLEMENTED',\n    502: 'BAD_GATEWAY',\n    503: 'SERVICE_UNAVAILABLE',\n    504: 'GATEWAY_TIMEOUT'\n  };\n  function getStatusCodeFromKey(code) {\n    return JSONRPC2_TO_HTTP_CODE[code] ?? 500;\n  }\n  function getStatusKeyFromCode(code) {\n    return HTTP_CODE_TO_JSONRPC2[code] ?? 'INTERNAL_SERVER_ERROR';\n  }\n  function getHTTPStatusCode(json) {\n    var arr = Array.isArray(json) ? json : [json];\n    var httpStatuses = new Set(arr.map(res => {\n      if ('error' in res && (0, _utils.isObject)(res.error.data)) {\n        if (typeof res.error.data?.['httpStatus'] === 'number') {\n          return res.error.data['httpStatus'];\n        }\n        var code = _codes.TRPC_ERROR_CODES_BY_NUMBER[res.error.code];\n        return getStatusCodeFromKey(code);\n      }\n      return 200;\n    }));\n    if (httpStatuses.size !== 1) {\n      return 207;\n    }\n    var httpStatus = httpStatuses.values().next().value;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return httpStatus;\n  }\n  function getHTTPStatusCodeFromError(error) {\n    return getStatusCodeFromKey(error.code);\n  }\n});","lineCount":81,"map":[[10,2,1,0],[10,6,1,0,"_codes"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,2,0],[11,6,2,0,"_utils"],[11,12,2,0],[11,15,2,0,"require"],[11,22,2,0],[11,23,2,0,"_dependencyMap"],[11,37,2,0],[12,2,4,0],[12,6,4,6,"JSONRPC2_TO_HTTP_CODE"],[12,27,4,27],[12,30,4,27,"exports"],[12,37,4,27],[12,38,4,27,"JSONRPC2_TO_HTTP_CODE"],[12,59,4,27],[12,62,4,30],[13,4,5,4,"PARSE_ERROR"],[13,15,5,15],[13,17,5,17],[13,20,5,20],[14,4,6,4,"BAD_REQUEST"],[14,15,6,15],[14,17,6,17],[14,20,6,20],[15,4,7,4,"UNAUTHORIZED"],[15,16,7,16],[15,18,7,18],[15,21,7,21],[16,4,8,4,"FORBIDDEN"],[16,13,8,13],[16,15,8,15],[16,18,8,18],[17,4,9,4,"NOT_FOUND"],[17,13,9,13],[17,15,9,15],[17,18,9,18],[18,4,10,4,"METHOD_NOT_SUPPORTED"],[18,24,10,24],[18,26,10,26],[18,29,10,29],[19,4,11,4,"TIMEOUT"],[19,11,11,11],[19,13,11,13],[19,16,11,16],[20,4,12,4,"CONFLICT"],[20,12,12,12],[20,14,12,14],[20,17,12,17],[21,4,13,4,"PRECONDITION_FAILED"],[21,23,13,23],[21,25,13,25],[21,28,13,28],[22,4,14,4,"PAYLOAD_TOO_LARGE"],[22,21,14,21],[22,23,14,23],[22,26,14,26],[23,4,15,4,"UNSUPPORTED_MEDIA_TYPE"],[23,26,15,26],[23,28,15,28],[23,31,15,31],[24,4,16,4,"UNPROCESSABLE_CONTENT"],[24,25,16,25],[24,27,16,27],[24,30,16,30],[25,4,17,4,"TOO_MANY_REQUESTS"],[25,21,17,21],[25,23,17,23],[25,26,17,26],[26,4,18,4,"CLIENT_CLOSED_REQUEST"],[26,25,18,25],[26,27,18,27],[26,30,18,30],[27,4,19,4,"INTERNAL_SERVER_ERROR"],[27,25,19,25],[27,27,19,27],[27,30,19,30],[28,4,20,4,"NOT_IMPLEMENTED"],[28,19,20,19],[28,21,20,21],[28,24,20,24],[29,4,21,4,"BAD_GATEWAY"],[29,15,21,15],[29,17,21,17],[29,20,21,20],[30,4,22,4,"SERVICE_UNAVAILABLE"],[30,23,22,23],[30,25,22,25],[30,28,22,28],[31,4,23,4,"GATEWAY_TIMEOUT"],[31,19,23,19],[31,21,23,21],[32,2,24,0],[32,3,24,1],[33,2,25,0],[33,6,25,6,"HTTP_CODE_TO_JSONRPC2"],[33,27,25,27],[33,30,25,27,"exports"],[33,37,25,27],[33,38,25,27,"HTTP_CODE_TO_JSONRPC2"],[33,59,25,27],[33,62,25,30],[34,4,26,4],[34,7,26,7],[34,9,26,9],[34,22,26,22],[35,4,27,4],[35,7,27,7],[35,9,27,9],[35,23,27,23],[36,4,28,4],[36,7,28,7],[36,9,28,9],[36,20,28,20],[37,4,29,4],[37,7,29,7],[37,9,29,9],[37,20,29,20],[38,4,30,4],[38,7,30,7],[38,9,30,9],[38,31,30,31],[39,4,31,4],[39,7,31,7],[39,9,31,9],[39,18,31,18],[40,4,32,4],[40,7,32,7],[40,9,32,9],[40,19,32,19],[41,4,33,4],[41,7,33,7],[41,9,33,9],[41,30,33,30],[42,4,34,4],[42,7,34,7],[42,9,34,9],[42,28,34,28],[43,4,35,4],[43,7,35,7],[43,9,35,9],[43,33,35,33],[44,4,36,4],[44,7,36,7],[44,9,36,9],[44,32,36,32],[45,4,37,4],[45,7,37,7],[45,9,37,9],[45,28,37,28],[46,4,38,4],[46,7,38,7],[46,9,38,9],[46,32,38,32],[47,4,39,4],[47,7,39,7],[47,9,39,9],[47,32,39,32],[48,4,40,4],[48,7,40,7],[48,9,40,9],[48,26,40,26],[49,4,41,4],[49,7,41,7],[49,9,41,9],[49,22,41,22],[50,4,42,4],[50,7,42,7],[50,9,42,9],[50,30,42,30],[51,4,43,4],[51,7,43,7],[51,9,43,9],[52,2,44,0],[52,3,44,1],[53,2,45,0],[53,11,45,9,"getStatusCodeFromKey"],[53,31,45,29,"getStatusCodeFromKey"],[53,32,45,30,"code"],[53,36,45,34],[53,38,45,36],[54,4,46,4],[54,11,46,11,"JSONRPC2_TO_HTTP_CODE"],[54,32,46,32],[54,33,46,33,"code"],[54,37,46,37],[54,38,46,38],[54,42,46,42],[54,45,46,45],[55,2,47,0],[56,2,48,0],[56,11,48,9,"getStatusKeyFromCode"],[56,31,48,29,"getStatusKeyFromCode"],[56,32,48,30,"code"],[56,36,48,34],[56,38,48,36],[57,4,49,4],[57,11,49,11,"HTTP_CODE_TO_JSONRPC2"],[57,32,49,32],[57,33,49,33,"code"],[57,37,49,37],[57,38,49,38],[57,42,49,42],[57,65,49,65],[58,2,50,0],[59,2,51,0],[59,11,51,9,"getHTTPStatusCode"],[59,28,51,26,"getHTTPStatusCode"],[59,29,51,27,"json"],[59,33,51,31],[59,35,51,33],[60,4,52,4],[60,8,52,10,"arr"],[60,11,52,13],[60,14,52,16,"Array"],[60,19,52,21],[60,20,52,22,"isArray"],[60,27,52,29],[60,28,52,30,"json"],[60,32,52,34],[60,33,52,35],[60,36,52,38,"json"],[60,40,52,42],[60,43,52,45],[60,44,53,8,"json"],[60,48,53,12],[60,49,54,5],[61,4,55,4],[61,8,55,10,"httpStatuses"],[61,20,55,22],[61,23,55,25],[61,27,55,29,"Set"],[61,30,55,32],[61,31,55,33,"arr"],[61,34,55,36],[61,35,55,37,"map"],[61,38,55,40],[61,39,55,42,"res"],[61,42,55,45],[61,46,55,48],[62,6,56,8],[62,10,56,12],[62,17,56,19],[62,21,56,23,"res"],[62,24,56,26],[62,28,56,30],[62,32,56,30,"isObject"],[62,47,56,38],[62,49,56,39,"res"],[62,52,56,42],[62,53,56,43,"error"],[62,58,56,48],[62,59,56,49,"data"],[62,63,56,53],[62,64,56,54],[62,66,56,56],[63,8,57,12],[63,12,57,16],[63,19,57,23,"res"],[63,22,57,26],[63,23,57,27,"error"],[63,28,57,32],[63,29,57,33,"data"],[63,33,57,37],[63,36,57,40],[63,48,57,52],[63,49,57,53],[63,54,57,58],[63,62,57,66],[63,64,57,68],[64,10,58,16],[64,17,58,23,"res"],[64,20,58,26],[64,21,58,27,"error"],[64,26,58,32],[64,27,58,33,"data"],[64,31,58,37],[64,32,58,38],[64,44,58,50],[64,45,58,51],[65,8,59,12],[66,8,60,12],[66,12,60,18,"code"],[66,16,60,22],[66,19,60,25,"TRPC_ERROR_CODES_BY_NUMBER"],[66,52,60,51],[66,53,60,52,"res"],[66,56,60,55],[66,57,60,56,"error"],[66,62,60,61],[66,63,60,62,"code"],[66,67,60,66],[66,68,60,67],[67,8,61,12],[67,15,61,19,"getStatusCodeFromKey"],[67,35,61,39],[67,36,61,40,"code"],[67,40,61,44],[67,41,61,45],[68,6,62,8],[69,6,63,8],[69,13,63,15],[69,16,63,18],[70,4,64,4],[70,5,64,5],[70,6,64,6],[70,7,64,7],[71,4,65,4],[71,8,65,8,"httpStatuses"],[71,20,65,20],[71,21,65,21,"size"],[71,25,65,25],[71,30,65,30],[71,31,65,31],[71,33,65,33],[72,6,66,8],[72,13,66,15],[72,16,66,18],[73,4,67,4],[74,4,68,4],[74,8,68,10,"httpStatus"],[74,18,68,20],[74,21,68,23,"httpStatuses"],[74,33,68,35],[74,34,68,36,"values"],[74,40,68,42],[74,41,68,43],[74,42,68,44],[74,43,68,45,"next"],[74,47,68,49],[74,48,68,50],[74,49,68,51],[74,50,68,52,"value"],[74,55,68,57],[75,4,69,4],[76,4,70,4],[76,11,70,11,"httpStatus"],[76,21,70,21],[77,2,71,0],[78,2,72,0],[78,11,72,9,"getHTTPStatusCodeFromError"],[78,37,72,35,"getHTTPStatusCodeFromError"],[78,38,72,36,"error"],[78,43,72,41],[78,45,72,43],[79,4,73,4],[79,11,73,11,"getStatusCodeFromKey"],[79,31,73,31],[79,32,73,32,"error"],[79,37,73,37],[79,38,73,38,"code"],[79,42,73,42],[79,43,73,43],[80,2,74,0],[81,0,74,1],[81,3]],"functionMap":{"names":["<global>","getStatusCodeFromKey","getStatusKeyFromCode","getHTTPStatusCode","arr.map$argument_0","getHTTPStatusCodeFromError"],"mappings":"AAA;AC4C;CDE;AEC;CFE;AGC;yCCI;KDS;CHO;AKC;CLE"}},"type":"js/module"}]}