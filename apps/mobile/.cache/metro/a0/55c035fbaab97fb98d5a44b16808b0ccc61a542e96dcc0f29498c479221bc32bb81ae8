{"dependencies":[{"name":"tslib","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":14,"index":130},"end":{"line":4,"column":30,"index":146}}],"key":"j/7buxWl8Yo4DN5u39IwETSJJyw="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":14,"index":162},"end":{"line":5,"column":30,"index":178}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./AutoScrollHelper","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":6,"column":25,"index":205},"end":{"line":6,"column":54,"index":234}}],"key":"3klZJZdvTFy86D3JZE9RbGK9Dsc="}},{"name":"./JSFPSMonitor","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":21,"index":257},"end":{"line":7,"column":46,"index":282}}],"key":"orRITAR87EMMMlKc0UJEpWhPE4I="}},{"name":"./useBenchmark","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":21,"index":305},"end":{"line":8,"column":46,"index":330}}],"key":"55IpSa09Z6Ml05nUwhq+EK0//qE="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useFlatListBenchmark = void 0;\n  var tslib_1 = require(_dependencyMap[0], \"tslib\");\n  var react_1 = require(_dependencyMap[1], \"react\");\n  var AutoScrollHelper_1 = require(_dependencyMap[2], \"./AutoScrollHelper\");\n  var JSFPSMonitor_1 = require(_dependencyMap[3], \"./JSFPSMonitor\");\n  var useBenchmark_1 = require(_dependencyMap[4], \"./useBenchmark\");\n  /**\n   * Runs the benchmark on FlatList and calls the callback method with the result.\n   * Target offset is mandatory in params.\n   * It's recommended to remove pagination while running the benchmark. Removing the onEndReached callback is the easiest way to do that.\n   */\n  function useFlatListBenchmark(flatListRef, callback, params) {\n    var _this = this;\n    (0, react_1.useEffect)(function () {\n      var _a;\n      var cancellable = new AutoScrollHelper_1.Cancellable();\n      if (flatListRef.current) {\n        if (!(Number((_a = flatListRef.current.props.data) === null || _a === void 0 ? void 0 : _a.length) > 0)) {\n          throw new Error(\"Data is empty, cannot run benchmark\");\n        }\n      }\n      var cancelTimeout = setTimeout(function () {\n        return tslib_1.__awaiter(_this, void 0, void 0, function () {\n          var jsFPSMonitor, i, jsProfilerResponse, result;\n          return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n              case 0:\n                jsFPSMonitor = new JSFPSMonitor_1.JSFPSMonitor();\n                jsFPSMonitor.startTracking();\n                i = 0;\n                _a.label = 1;\n              case 1:\n                if (!(i < (params.repeatCount || 1))) return [3 /*break*/, 4];\n                return [4 /*yield*/, runScrollBenchmark(flatListRef, params.targetOffset, cancellable, params.speedMultiplier || 1)];\n              case 2:\n                _a.sent();\n                _a.label = 3;\n              case 3:\n                i++;\n                return [3 /*break*/, 1];\n              case 4:\n                jsProfilerResponse = jsFPSMonitor.stopAndGetData();\n                result = {\n                  js: jsProfilerResponse,\n                  suggestions: [],\n                  interrupted: cancellable.isCancelled()\n                };\n                if (!cancellable.isCancelled()) {\n                  result.formattedString = (0, useBenchmark_1.getFormattedString)(result);\n                }\n                callback(result);\n                return [2 /*return*/];\n            }\n          });\n        });\n      }, params.startDelayInMs || 3000);\n      return function () {\n        clearTimeout(cancelTimeout);\n        cancellable.cancel();\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return [];\n  }\n  exports.useFlatListBenchmark = useFlatListBenchmark;\n  /**\n   * Scrolls to the target offset and then back to 0\n   */\n  function runScrollBenchmark(flatListRef, targetOffset, cancellable, scrollSpeedMultiplier) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var horizontal_1, fromX, fromY, toX, toY, scrollNow;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!flatListRef.current) return [3 /*break*/, 3];\n            horizontal_1 = flatListRef.current.props.horizontal;\n            fromX = 0;\n            fromY = 0;\n            toX = horizontal_1 ? targetOffset : 0;\n            toY = horizontal_1 ? 0 : targetOffset;\n            scrollNow = function (x, y) {\n              var _a;\n              (_a = flatListRef.current) === null || _a === void 0 ? void 0 : _a.scrollToOffset({\n                offset: horizontal_1 ? x : y,\n                animated: false\n              });\n            };\n            return [4 /*yield*/, (0, AutoScrollHelper_1.autoScroll)(scrollNow, fromX, fromY, toX, toY, scrollSpeedMultiplier, cancellable)];\n          case 1:\n            _a.sent();\n            return [4 /*yield*/, (0, AutoScrollHelper_1.autoScroll)(scrollNow, toX, toY, fromX, fromY, scrollSpeedMultiplier, cancellable)];\n          case 2:\n            _a.sent();\n            _a.label = 3;\n          case 3:\n            return [2 /*return*/];\n        }\n      });\n    });\n  }\n});","lineCount":107,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"useFlatListBenchmark"],[7,30,3,28],[7,33,3,31],[7,38,3,36],[7,39,3,37],[8,2,4,0],[8,6,4,4,"tslib_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,50,4,29],[8,51,4,30],[9,2,5,0],[9,6,5,4,"react_1"],[9,13,5,11],[9,16,5,14,"require"],[9,23,5,21],[9,24,5,21,"_dependencyMap"],[9,38,5,21],[9,50,5,29],[9,51,5,30],[10,2,6,0],[10,6,6,4,"AutoScrollHelper_1"],[10,24,6,22],[10,27,6,25,"require"],[10,34,6,32],[10,35,6,32,"_dependencyMap"],[10,49,6,32],[10,74,6,53],[10,75,6,54],[11,2,7,0],[11,6,7,4,"JSFPSMonitor_1"],[11,20,7,18],[11,23,7,21,"require"],[11,30,7,28],[11,31,7,28,"_dependencyMap"],[11,45,7,28],[11,66,7,45],[11,67,7,46],[12,2,8,0],[12,6,8,4,"useBenchmark_1"],[12,20,8,18],[12,23,8,21,"require"],[12,30,8,28],[12,31,8,28,"_dependencyMap"],[12,45,8,28],[12,66,8,45],[12,67,8,46],[13,2,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,2,14,0],[18,11,14,9,"useFlatListBenchmark"],[18,31,14,29,"useFlatListBenchmark"],[18,32,14,30,"flatListRef"],[18,43,14,41],[18,45,14,43,"callback"],[18,53,14,51],[18,55,14,53,"params"],[18,61,14,59],[18,63,14,61],[19,4,15,4],[19,8,15,8,"_this"],[19,13,15,13],[19,16,15,16],[19,20,15,20],[20,4,16,4],[20,5,16,5],[20,6,16,6],[20,8,16,8,"react_1"],[20,15,16,15],[20,16,16,16,"useEffect"],[20,25,16,25],[20,27,16,27],[20,39,16,39],[21,6,17,8],[21,10,17,12,"_a"],[21,12,17,14],[22,6,18,8],[22,10,18,12,"cancellable"],[22,21,18,23],[22,24,18,26],[22,28,18,30,"AutoScrollHelper_1"],[22,46,18,48],[22,47,18,49,"Cancellable"],[22,58,18,60],[22,59,18,61],[22,60,18,62],[23,6,19,8],[23,10,19,12,"flatListRef"],[23,21,19,23],[23,22,19,24,"current"],[23,29,19,31],[23,31,19,33],[24,8,20,12],[24,12,20,16],[24,14,20,18,"Number"],[24,20,20,24],[24,21,20,25],[24,22,20,26,"_a"],[24,24,20,28],[24,27,20,31,"flatListRef"],[24,38,20,42],[24,39,20,43,"current"],[24,46,20,50],[24,47,20,51,"props"],[24,52,20,56],[24,53,20,57,"data"],[24,57,20,61],[24,63,20,67],[24,67,20,71],[24,71,20,75,"_a"],[24,73,20,77],[24,78,20,82],[24,83,20,87],[24,84,20,88],[24,87,20,91],[24,92,20,96],[24,93,20,97],[24,96,20,100,"_a"],[24,98,20,102],[24,99,20,103,"length"],[24,105,20,109],[24,106,20,110],[24,109,20,113],[24,110,20,114],[24,111,20,115],[24,113,20,117],[25,10,21,16],[25,16,21,22],[25,20,21,26,"Error"],[25,25,21,31],[25,26,21,32],[25,63,21,69],[25,64,21,70],[26,8,22,12],[27,6,23,8],[28,6,24,8],[28,10,24,12,"cancelTimeout"],[28,23,24,25],[28,26,24,28,"setTimeout"],[28,36,24,38],[28,37,24,39],[28,49,24,51],[29,8,24,53],[29,15,24,60,"tslib_1"],[29,22,24,67],[29,23,24,68,"__awaiter"],[29,32,24,77],[29,33,24,78,"_this"],[29,38,24,83],[29,40,24,85],[29,45,24,90],[29,46,24,91],[29,48,24,93],[29,53,24,98],[29,54,24,99],[29,56,24,101],[29,68,24,113],[30,10,25,12],[30,14,25,16,"jsFPSMonitor"],[30,26,25,28],[30,28,25,30,"i"],[30,29,25,31],[30,31,25,33,"jsProfilerResponse"],[30,49,25,51],[30,51,25,53,"result"],[30,57,25,59],[31,10,26,12],[31,17,26,19,"tslib_1"],[31,24,26,26],[31,25,26,27,"__generator"],[31,36,26,38],[31,37,26,39],[31,41,26,43],[31,43,26,45],[31,53,26,55,"_a"],[31,55,26,57],[31,57,26,59],[32,12,27,16],[32,20,27,24,"_a"],[32,22,27,26],[32,23,27,27,"label"],[32,28,27,32],[33,14,28,20],[33,19,28,25],[33,20,28,26],[34,16,29,24,"jsFPSMonitor"],[34,28,29,36],[34,31,29,39],[34,35,29,43,"JSFPSMonitor_1"],[34,49,29,57],[34,50,29,58,"JSFPSMonitor"],[34,62,29,70],[34,63,29,71],[34,64,29,72],[35,16,30,24,"jsFPSMonitor"],[35,28,30,36],[35,29,30,37,"startTracking"],[35,42,30,50],[35,43,30,51],[35,44,30,52],[36,16,31,24,"i"],[36,17,31,25],[36,20,31,28],[36,21,31,29],[37,16,32,24,"_a"],[37,18,32,26],[37,19,32,27,"label"],[37,24,32,32],[37,27,32,35],[37,28,32,36],[38,14,33,20],[38,19,33,25],[38,20,33,26],[39,16,34,24],[39,20,34,28],[39,22,34,30,"i"],[39,23,34,31],[39,27,34,35,"params"],[39,33,34,41],[39,34,34,42,"repeatCount"],[39,45,34,53],[39,49,34,57],[39,50,34,58],[39,51,34,59],[39,52,34,60],[39,54,34,62],[39,61,34,69],[39,62,34,70],[39,63,34,71],[39,64,34,72],[39,75,34,83],[39,76,34,84],[39,77,34,85],[40,16,35,24],[40,23,35,31],[40,24,35,32],[40,25,35,33],[40,26,35,34],[40,37,35,45,"runScrollBenchmark"],[40,55,35,63],[40,56,35,64,"flatListRef"],[40,67,35,75],[40,69,35,77,"params"],[40,75,35,83],[40,76,35,84,"targetOffset"],[40,88,35,96],[40,90,35,98,"cancellable"],[40,101,35,109],[40,103,35,111,"params"],[40,109,35,117],[40,110,35,118,"speedMultiplier"],[40,125,35,133],[40,129,35,137],[40,130,35,138],[40,131,35,139],[40,132,35,140],[41,14,36,20],[41,19,36,25],[41,20,36,26],[42,16,37,24,"_a"],[42,18,37,26],[42,19,37,27,"sent"],[42,23,37,31],[42,24,37,32],[42,25,37,33],[43,16,38,24,"_a"],[43,18,38,26],[43,19,38,27,"label"],[43,24,38,32],[43,27,38,35],[43,28,38,36],[44,14,39,20],[44,19,39,25],[44,20,39,26],[45,16,40,24,"i"],[45,17,40,25],[45,19,40,27],[46,16,41,24],[46,23,41,31],[46,24,41,32],[46,25,41,33],[46,26,41,34],[46,37,41,45],[46,38,41,46],[46,39,41,47],[47,14,42,20],[47,19,42,25],[47,20,42,26],[48,16,43,24,"jsProfilerResponse"],[48,34,43,42],[48,37,43,45,"jsFPSMonitor"],[48,49,43,57],[48,50,43,58,"stopAndGetData"],[48,64,43,72],[48,65,43,73],[48,66,43,74],[49,16,44,24,"result"],[49,22,44,30],[49,25,44,33],[50,18,45,28,"js"],[50,20,45,30],[50,22,45,32,"jsProfilerResponse"],[50,40,45,50],[51,18,46,28,"suggestions"],[51,29,46,39],[51,31,46,41],[51,33,46,43],[52,18,47,28,"interrupted"],[52,29,47,39],[52,31,47,41,"cancellable"],[52,42,47,52],[52,43,47,53,"isCancelled"],[52,54,47,64],[52,55,47,65],[53,16,48,24],[53,17,48,25],[54,16,49,24],[54,20,49,28],[54,21,49,29,"cancellable"],[54,32,49,40],[54,33,49,41,"isCancelled"],[54,44,49,52],[54,45,49,53],[54,46,49,54],[54,48,49,56],[55,18,50,28,"result"],[55,24,50,34],[55,25,50,35,"formattedString"],[55,40,50,50],[55,43,50,53],[55,44,50,54],[55,45,50,55],[55,47,50,57,"useBenchmark_1"],[55,61,50,71],[55,62,50,72,"getFormattedString"],[55,80,50,90],[55,82,50,92,"result"],[55,88,50,98],[55,89,50,99],[56,16,51,24],[57,16,52,24,"callback"],[57,24,52,32],[57,25,52,33,"result"],[57,31,52,39],[57,32,52,40],[58,16,53,24],[58,23,53,31],[58,24,53,32],[58,25,53,33],[58,26,53,34],[58,37,53,45],[59,12,54,16],[60,10,55,12],[60,11,55,13],[60,12,55,14],[61,8,56,8],[61,9,56,9],[61,10,56,10],[62,6,56,12],[62,7,56,13],[62,9,56,15,"params"],[62,15,56,21],[62,16,56,22,"startDelayInMs"],[62,30,56,36],[62,34,56,40],[62,38,56,44],[62,39,56,45],[63,6,57,8],[63,13,57,15],[63,25,57,27],[64,8,58,12,"clearTimeout"],[64,20,58,24],[64,21,58,25,"cancelTimeout"],[64,34,58,38],[64,35,58,39],[65,8,59,12,"cancellable"],[65,19,59,23],[65,20,59,24,"cancel"],[65,26,59,30],[65,27,59,31],[65,28,59,32],[66,6,60,8],[66,7,60,9],[67,6,61,8],[68,4,62,4],[68,5,62,5],[68,7,62,7],[68,9,62,9],[68,10,62,10],[69,4,63,4],[69,11,63,11],[69,13,63,13],[70,2,64,0],[71,2,65,0,"exports"],[71,9,65,7],[71,10,65,8,"useFlatListBenchmark"],[71,30,65,28],[71,33,65,31,"useFlatListBenchmark"],[71,53,65,51],[72,2,66,0],[73,0,67,0],[74,0,68,0],[75,2,69,0],[75,11,69,9,"runScrollBenchmark"],[75,29,69,27,"runScrollBenchmark"],[75,30,69,28,"flatListRef"],[75,41,69,39],[75,43,69,41,"targetOffset"],[75,55,69,53],[75,57,69,55,"cancellable"],[75,68,69,66],[75,70,69,68,"scrollSpeedMultiplier"],[75,91,69,89],[75,93,69,91],[76,4,70,4],[76,11,70,11,"tslib_1"],[76,18,70,18],[76,19,70,19,"__awaiter"],[76,28,70,28],[76,29,70,29],[76,33,70,33],[76,35,70,35],[76,40,70,40],[76,41,70,41],[76,43,70,43],[76,48,70,48],[76,49,70,49],[76,51,70,51],[76,63,70,63],[77,6,71,8],[77,10,71,12,"horizontal_1"],[77,22,71,24],[77,24,71,26,"fromX"],[77,29,71,31],[77,31,71,33,"fromY"],[77,36,71,38],[77,38,71,40,"toX"],[77,41,71,43],[77,43,71,45,"toY"],[77,46,71,48],[77,48,71,50,"scrollNow"],[77,57,71,59],[78,6,72,8],[78,13,72,15,"tslib_1"],[78,20,72,22],[78,21,72,23,"__generator"],[78,32,72,34],[78,33,72,35],[78,37,72,39],[78,39,72,41],[78,49,72,51,"_a"],[78,51,72,53],[78,53,72,55],[79,8,73,12],[79,16,73,20,"_a"],[79,18,73,22],[79,19,73,23,"label"],[79,24,73,28],[80,10,74,16],[80,15,74,21],[80,16,74,22],[81,12,75,20],[81,16,75,24],[81,17,75,25,"flatListRef"],[81,28,75,36],[81,29,75,37,"current"],[81,36,75,44],[81,38,75,46],[81,45,75,53],[81,46,75,54],[81,47,75,55],[81,48,75,56],[81,59,75,67],[81,60,75,68],[81,61,75,69],[82,12,76,20,"horizontal_1"],[82,24,76,32],[82,27,76,35,"flatListRef"],[82,38,76,46],[82,39,76,47,"current"],[82,46,76,54],[82,47,76,55,"props"],[82,52,76,60],[82,53,76,61,"horizontal"],[82,63,76,71],[83,12,77,20,"fromX"],[83,17,77,25],[83,20,77,28],[83,21,77,29],[84,12,78,20,"fromY"],[84,17,78,25],[84,20,78,28],[84,21,78,29],[85,12,79,20,"toX"],[85,15,79,23],[85,18,79,26,"horizontal_1"],[85,30,79,38],[85,33,79,41,"targetOffset"],[85,45,79,53],[85,48,79,56],[85,49,79,57],[86,12,80,20,"toY"],[86,15,80,23],[86,18,80,26,"horizontal_1"],[86,30,80,38],[86,33,80,41],[86,34,80,42],[86,37,80,45,"targetOffset"],[86,49,80,57],[87,12,81,20,"scrollNow"],[87,21,81,29],[87,24,81,32],[87,33,81,32,"scrollNow"],[87,34,81,42,"x"],[87,35,81,43],[87,37,81,45,"y"],[87,38,81,46],[87,40,81,48],[88,14,82,24],[88,18,82,28,"_a"],[88,20,82,30],[89,14,83,24],[89,15,83,25,"_a"],[89,17,83,27],[89,20,83,30,"flatListRef"],[89,31,83,41],[89,32,83,42,"current"],[89,39,83,49],[89,45,83,55],[89,49,83,59],[89,53,83,63,"_a"],[89,55,83,65],[89,60,83,70],[89,65,83,75],[89,66,83,76],[89,69,83,79],[89,74,83,84],[89,75,83,85],[89,78,83,88,"_a"],[89,80,83,90],[89,81,83,91,"scrollToOffset"],[89,95,83,105],[89,96,83,106],[90,16,84,28,"offset"],[90,22,84,34],[90,24,84,36,"horizontal_1"],[90,36,84,48],[90,39,84,51,"x"],[90,40,84,52],[90,43,84,55,"y"],[90,44,84,56],[91,16,85,28,"animated"],[91,24,85,36],[91,26,85,38],[92,14,86,24],[92,15,86,25],[92,16,86,26],[93,12,87,20],[93,13,87,21],[94,12,88,20],[94,19,88,27],[94,20,88,28],[94,21,88,29],[94,22,88,30],[94,33,88,41],[94,34,88,42],[94,35,88,43],[94,37,88,45,"AutoScrollHelper_1"],[94,55,88,63],[94,56,88,64,"autoScroll"],[94,66,88,74],[94,68,88,76,"scrollNow"],[94,77,88,85],[94,79,88,87,"fromX"],[94,84,88,92],[94,86,88,94,"fromY"],[94,91,88,99],[94,93,88,101,"toX"],[94,96,88,104],[94,98,88,106,"toY"],[94,101,88,109],[94,103,88,111,"scrollSpeedMultiplier"],[94,124,88,132],[94,126,88,134,"cancellable"],[94,137,88,145],[94,138,88,146],[94,139,88,147],[95,10,89,16],[95,15,89,21],[95,16,89,22],[96,12,90,20,"_a"],[96,14,90,22],[96,15,90,23,"sent"],[96,19,90,27],[96,20,90,28],[96,21,90,29],[97,12,91,20],[97,19,91,27],[97,20,91,28],[97,21,91,29],[97,22,91,30],[97,33,91,41],[97,34,91,42],[97,35,91,43],[97,37,91,45,"AutoScrollHelper_1"],[97,55,91,63],[97,56,91,64,"autoScroll"],[97,66,91,74],[97,68,91,76,"scrollNow"],[97,77,91,85],[97,79,91,87,"toX"],[97,82,91,90],[97,84,91,92,"toY"],[97,87,91,95],[97,89,91,97,"fromX"],[97,94,91,102],[97,96,91,104,"fromY"],[97,101,91,109],[97,103,91,111,"scrollSpeedMultiplier"],[97,124,91,132],[97,126,91,134,"cancellable"],[97,137,91,145],[97,138,91,146],[97,139,91,147],[98,10,92,16],[98,15,92,21],[98,16,92,22],[99,12,93,20,"_a"],[99,14,93,22],[99,15,93,23,"sent"],[99,19,93,27],[99,20,93,28],[99,21,93,29],[100,12,94,20,"_a"],[100,14,94,22],[100,15,94,23,"label"],[100,20,94,28],[100,23,94,31],[100,24,94,32],[101,10,95,16],[101,15,95,21],[101,16,95,22],[102,12,95,24],[102,19,95,31],[102,20,95,32],[102,21,95,33],[102,22,95,34],[102,33,95,45],[103,8,96,12],[104,6,97,8],[104,7,97,9],[104,8,97,10],[105,4,98,4],[105,5,98,5],[105,6,98,6],[106,2,99,0],[107,0,99,1],[107,3]],"functionMap":{"names":["<global>","useFlatListBenchmark","<anonymous>","setTimeout$argument_0","tslib_1.__awaiter$argument_3","tslib_1.__generator$argument_1","runScrollBenchmark","scrollNow"],"mappings":"AAA;ACa;2BCE;uCCQ,8DC;6CCE;aD6B;SDC,ID;KDM;CDE;AMK;mDFC;yCCE;gCES;qBFM;SDU;KEC;CNC"}},"type":"js/module"}]}