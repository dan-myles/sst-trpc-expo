{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":0,"index":3335}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":0,"index":3335}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":0,"index":3335}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":114,"column":0,"index":3335}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@trpc/server/observable","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"I122979nMYhHcuaUZWanjRGzbec="}},{"name":"../links/internals/createChain.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":65,"index":135}}],"key":"LF3Y0g41Y1c51HS9i36sM0bdMGk="}},{"name":"../TRPCClientError.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":136},"end":{"line":3,"column":57,"index":193}}],"key":"+VRJuZ2ikq/rZ4G1ICvMdURsA7A="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.TRPCUntypedClient = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/createClass\"));\n  var _observable = require(_dependencyMap[4], \"@trpc/server/observable\");\n  var _createChain = require(_dependencyMap[5], \"../links/internals/createChain.mjs\");\n  var _TRPCClientError = require(_dependencyMap[6], \"../TRPCClientError.mjs\");\n  function _define_property(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  var TRPCUntypedClient = exports.TRPCUntypedClient = /*#__PURE__*/function () {\n    function TRPCUntypedClient(opts) {\n      (0, _classCallCheck2.default)(this, TRPCUntypedClient);\n      _define_property(this, \"links\", void 0);\n      _define_property(this, \"runtime\", void 0);\n      _define_property(this, \"requestId\", void 0);\n      this.requestId = 0;\n      this.runtime = {};\n      // Initialize the links\n      this.links = opts.links.map(link => link(this.runtime));\n    }\n    return (0, _createClass2.default)(TRPCUntypedClient, [{\n      key: \"$request\",\n      value: function $request(opts) {\n        var chain$ = (0, _createChain.createChain)({\n          links: this.links,\n          op: {\n            ...opts,\n            context: opts.context ?? {},\n            id: ++this.requestId\n          }\n        });\n        return chain$.pipe((0, _observable.share)());\n      }\n    }, {\n      key: \"requestAsPromise\",\n      value: function () {\n        var _requestAsPromise = (0, _asyncToGenerator2.default)(function* (opts) {\n          try {\n            var req$ = this.$request(opts);\n            var envelope = yield (0, _observable.observableToPromise)(req$);\n            var data = envelope.result.data;\n            return data;\n          } catch (err) {\n            throw _TRPCClientError.TRPCClientError.from(err);\n          }\n        });\n        function requestAsPromise(_x) {\n          return _requestAsPromise.apply(this, arguments);\n        }\n        return requestAsPromise;\n      }()\n    }, {\n      key: \"query\",\n      value: function query(path, input, opts) {\n        return this.requestAsPromise({\n          type: 'query',\n          path,\n          input,\n          context: opts?.context,\n          signal: opts?.signal\n        });\n      }\n    }, {\n      key: \"mutation\",\n      value: function mutation(path, input, opts) {\n        return this.requestAsPromise({\n          type: 'mutation',\n          path,\n          input,\n          context: opts?.context,\n          signal: opts?.signal\n        });\n      }\n    }, {\n      key: \"subscription\",\n      value: function subscription(path, input, opts) {\n        var observable$ = this.$request({\n          type: 'subscription',\n          path,\n          input,\n          context: opts.context,\n          signal: opts.signal\n        });\n        return observable$.subscribe({\n          next(envelope) {\n            switch (envelope.result.type) {\n              case 'state':\n                {\n                  opts.onConnectionStateChange?.(envelope.result);\n                  break;\n                }\n              case 'started':\n                {\n                  opts.onStarted?.({\n                    context: envelope.context\n                  });\n                  break;\n                }\n              case 'stopped':\n                {\n                  opts.onStopped?.();\n                  break;\n                }\n              case 'data':\n              case undefined:\n                {\n                  opts.onData?.(envelope.result.data);\n                  break;\n                }\n            }\n          },\n          error(err) {\n            opts.onError?.(err);\n          },\n          complete() {\n            opts.onComplete?.();\n          }\n        });\n      }\n    }]);\n  }();\n});","lineCount":138,"map":[[10,2,1,0],[10,6,1,0,"_observable"],[10,17,1,0],[10,20,1,0,"require"],[10,27,1,0],[10,28,1,0,"_dependencyMap"],[10,42,1,0],[11,2,2,0],[11,6,2,0,"_createChain"],[11,18,2,0],[11,21,2,0,"require"],[11,28,2,0],[11,29,2,0,"_dependencyMap"],[11,43,2,0],[12,2,3,0],[12,6,3,0,"_TRPCClientError"],[12,22,3,0],[12,25,3,0,"require"],[12,32,3,0],[12,33,3,0,"_dependencyMap"],[12,47,3,0],[13,2,5,0],[13,11,5,9,"_define_property"],[13,27,5,25,"_define_property"],[13,28,5,26,"obj"],[13,31,5,29],[13,33,5,31,"key"],[13,36,5,34],[13,38,5,36,"value"],[13,43,5,41],[13,45,5,43],[14,4,6,4],[14,8,6,8,"key"],[14,11,6,11],[14,15,6,15,"obj"],[14,18,6,18],[14,20,6,20],[15,6,7,8,"Object"],[15,12,7,14],[15,13,7,15,"defineProperty"],[15,27,7,29],[15,28,7,30,"obj"],[15,31,7,33],[15,33,7,35,"key"],[15,36,7,38],[15,38,7,40],[16,8,8,12,"value"],[16,13,8,17],[16,15,8,19,"value"],[16,20,8,24],[17,8,9,12,"enumerable"],[17,18,9,22],[17,20,9,24],[17,24,9,28],[18,8,10,12,"configurable"],[18,20,10,24],[18,22,10,26],[18,26,10,30],[19,8,11,12,"writable"],[19,16,11,20],[19,18,11,22],[20,6,12,8],[20,7,12,9],[20,8,12,10],[21,4,13,4],[21,5,13,5],[21,11,13,11],[22,6,14,8,"obj"],[22,9,14,11],[22,10,14,12,"key"],[22,13,14,15],[22,14,14,16],[22,17,14,19,"value"],[22,22,14,24],[23,4,15,4],[24,4,16,4],[24,11,16,11,"obj"],[24,14,16,14],[25,2,17,0],[26,2,17,1],[26,6,18,6,"TRPCUntypedClient"],[26,23,18,23],[26,26,18,23,"exports"],[26,33,18,23],[26,34,18,23,"TRPCUntypedClient"],[26,51,18,23],[27,4,102,4],[27,13,102,4,"TRPCUntypedClient"],[27,31,102,16,"opts"],[27,35,102,20],[27,37,102,21],[28,6,102,21],[28,10,102,21,"_classCallCheck2"],[28,26,102,21],[28,27,102,21,"default"],[28,34,102,21],[28,42,102,21,"TRPCUntypedClient"],[28,59,102,21],[29,6,103,8,"_define_property"],[29,22,103,24],[29,23,103,25],[29,27,103,29],[29,29,103,31],[29,36,103,38],[29,38,103,40],[29,43,103,45],[29,44,103,46],[29,45,103,47],[30,6,104,8,"_define_property"],[30,22,104,24],[30,23,104,25],[30,27,104,29],[30,29,104,31],[30,38,104,40],[30,40,104,42],[30,45,104,47],[30,46,104,48],[30,47,104,49],[31,6,105,8,"_define_property"],[31,22,105,24],[31,23,105,25],[31,27,105,29],[31,29,105,31],[31,40,105,42],[31,42,105,44],[31,47,105,49],[31,48,105,50],[31,49,105,51],[32,6,106,8],[32,10,106,12],[32,11,106,13,"requestId"],[32,20,106,22],[32,23,106,25],[32,24,106,26],[33,6,107,8],[33,10,107,12],[33,11,107,13,"runtime"],[33,18,107,20],[33,21,107,23],[33,22,107,24],[33,23,107,25],[34,6,108,8],[35,6,109,8],[35,10,109,12],[35,11,109,13,"links"],[35,16,109,18],[35,19,109,21,"opts"],[35,23,109,25],[35,24,109,26,"links"],[35,29,109,31],[35,30,109,32,"map"],[35,33,109,35],[35,34,109,37,"link"],[35,38,109,41],[35,42,109,44,"link"],[35,46,109,48],[35,47,109,49],[35,51,109,53],[35,52,109,54,"runtime"],[35,59,109,61],[35,60,109,62],[35,61,109,63],[36,4,110,4],[37,4,110,5],[37,15,110,5,"_createClass2"],[37,28,110,5],[37,29,110,5,"default"],[37,36,110,5],[37,38,110,5,"TRPCUntypedClient"],[37,55,110,5],[38,6,110,5,"key"],[38,9,110,5],[39,6,110,5,"value"],[39,11,110,5],[39,13,19,4],[39,22,19,4,"$request"],[39,30,19,12,"$request"],[39,31,19,13,"opts"],[39,35,19,17],[39,37,19,19],[40,8,20,8],[40,12,20,14,"chain$"],[40,18,20,20],[40,21,20,23],[40,25,20,23,"createChain"],[40,49,20,34],[40,51,20,35],[41,10,21,12,"links"],[41,15,21,17],[41,17,21,19],[41,21,21,23],[41,22,21,24,"links"],[41,27,21,29],[42,10,22,12,"op"],[42,12,22,14],[42,14,22,16],[43,12,23,16],[43,15,23,19,"opts"],[43,19,23,23],[44,12,24,16,"context"],[44,19,24,23],[44,21,24,25,"opts"],[44,25,24,29],[44,26,24,30,"context"],[44,33,24,37],[44,37,24,41],[44,38,24,42],[44,39,24,43],[45,12,25,16,"id"],[45,14,25,18],[45,16,25,20],[45,18,25,22],[45,22,25,26],[45,23,25,27,"requestId"],[46,10,26,12],[47,8,27,8],[47,9,27,9],[47,10,27,10],[48,8,28,8],[48,15,28,15,"chain$"],[48,21,28,21],[48,22,28,22,"pipe"],[48,26,28,26],[48,27,28,27],[48,31,28,27,"share"],[48,48,28,32],[48,50,28,33],[48,51,28,34],[48,52,28,35],[49,6,29,4],[50,4,29,5],[51,6,29,5,"key"],[51,9,29,5],[52,6,29,5,"value"],[52,11,29,5],[53,8,29,5],[53,12,29,5,"_requestAsPromise"],[53,29,29,5],[53,36,29,5,"_asyncToGenerator2"],[53,54,29,5],[53,55,29,5,"default"],[53,62,29,5],[53,64,30,4],[53,75,30,27,"opts"],[53,79,30,31],[53,81,30,33],[54,10,31,8],[54,14,31,12],[55,12,32,12],[55,16,32,18,"req$"],[55,20,32,22],[55,23,32,25],[55,27,32,29],[55,28,32,30,"$request"],[55,36,32,38],[55,37,32,39,"opts"],[55,41,32,43],[55,42,32,44],[56,12,33,12],[56,16,33,18,"envelope"],[56,24,33,26],[56,33,33,35],[56,37,33,35,"observableToPromise"],[56,68,33,54],[56,70,33,55,"req$"],[56,74,33,59],[56,75,33,60],[57,12,34,12],[57,16,34,18,"data"],[57,20,34,22],[57,23,34,25,"envelope"],[57,31,34,33],[57,32,34,34,"result"],[57,38,34,40],[57,39,34,41,"data"],[57,43,34,45],[58,12,35,12],[58,19,35,19,"data"],[58,23,35,23],[59,10,36,8],[59,11,36,9],[59,12,36,10],[59,19,36,17,"err"],[59,22,36,20],[59,24,36,22],[60,12,37,12],[60,18,37,18,"TRPCClientError"],[60,50,37,33],[60,51,37,34,"from"],[60,55,37,38],[60,56,37,39,"err"],[60,59,37,42],[60,60,37,43],[61,10,38,8],[62,8,39,4],[62,9,39,5],[63,8,39,5],[63,17,30,10,"requestAsPromise"],[63,33,30,26,"requestAsPromise"],[63,34,30,26,"_x"],[63,36,30,26],[64,10,30,26],[64,17,30,26,"_requestAsPromise"],[64,34,30,26],[64,35,30,26,"apply"],[64,40,30,26],[64,47,30,26,"arguments"],[64,56,30,26],[65,8,30,26],[66,8,30,26],[66,15,30,10,"requestAsPromise"],[66,31,30,26],[67,6,30,26],[68,4,30,26],[69,6,30,26,"key"],[69,9,30,26],[70,6,30,26,"value"],[70,11,30,26],[70,13,40,4],[70,22,40,4,"query"],[70,27,40,9,"query"],[70,28,40,10,"path"],[70,32,40,14],[70,34,40,16,"input"],[70,39,40,21],[70,41,40,23,"opts"],[70,45,40,27],[70,47,40,29],[71,8,41,8],[71,15,41,15],[71,19,41,19],[71,20,41,20,"requestAsPromise"],[71,36,41,36],[71,37,41,37],[72,10,42,12,"type"],[72,14,42,16],[72,16,42,18],[72,23,42,25],[73,10,43,12,"path"],[73,14,43,16],[74,10,44,12,"input"],[74,15,44,17],[75,10,45,12,"context"],[75,17,45,19],[75,19,45,21,"opts"],[75,23,45,25],[75,25,45,27,"context"],[75,32,45,34],[76,10,46,12,"signal"],[76,16,46,18],[76,18,46,20,"opts"],[76,22,46,24],[76,24,46,26,"signal"],[77,8,47,8],[77,9,47,9],[77,10,47,10],[78,6,48,4],[79,4,48,5],[80,6,48,5,"key"],[80,9,48,5],[81,6,48,5,"value"],[81,11,48,5],[81,13,49,4],[81,22,49,4,"mutation"],[81,30,49,12,"mutation"],[81,31,49,13,"path"],[81,35,49,17],[81,37,49,19,"input"],[81,42,49,24],[81,44,49,26,"opts"],[81,48,49,30],[81,50,49,32],[82,8,50,8],[82,15,50,15],[82,19,50,19],[82,20,50,20,"requestAsPromise"],[82,36,50,36],[82,37,50,37],[83,10,51,12,"type"],[83,14,51,16],[83,16,51,18],[83,26,51,28],[84,10,52,12,"path"],[84,14,52,16],[85,10,53,12,"input"],[85,15,53,17],[86,10,54,12,"context"],[86,17,54,19],[86,19,54,21,"opts"],[86,23,54,25],[86,25,54,27,"context"],[86,32,54,34],[87,10,55,12,"signal"],[87,16,55,18],[87,18,55,20,"opts"],[87,22,55,24],[87,24,55,26,"signal"],[88,8,56,8],[88,9,56,9],[88,10,56,10],[89,6,57,4],[90,4,57,5],[91,6,57,5,"key"],[91,9,57,5],[92,6,57,5,"value"],[92,11,57,5],[92,13,58,4],[92,22,58,4,"subscription"],[92,34,58,16,"subscription"],[92,35,58,17,"path"],[92,39,58,21],[92,41,58,23,"input"],[92,46,58,28],[92,48,58,30,"opts"],[92,52,58,34],[92,54,58,36],[93,8,59,8],[93,12,59,14,"observable$"],[93,23,59,25],[93,26,59,28],[93,30,59,32],[93,31,59,33,"$request"],[93,39,59,41],[93,40,59,42],[94,10,60,12,"type"],[94,14,60,16],[94,16,60,18],[94,30,60,32],[95,10,61,12,"path"],[95,14,61,16],[96,10,62,12,"input"],[96,15,62,17],[97,10,63,12,"context"],[97,17,63,19],[97,19,63,21,"opts"],[97,23,63,25],[97,24,63,26,"context"],[97,31,63,33],[98,10,64,12,"signal"],[98,16,64,18],[98,18,64,20,"opts"],[98,22,64,24],[98,23,64,25,"signal"],[99,8,65,8],[99,9,65,9],[99,10,65,10],[100,8,66,8],[100,15,66,15,"observable$"],[100,26,66,26],[100,27,66,27,"subscribe"],[100,36,66,36],[100,37,66,37],[101,10,67,12,"next"],[101,14,67,16,"next"],[101,15,67,18,"envelope"],[101,23,67,26],[101,25,67,28],[102,12,68,16],[102,20,68,23,"envelope"],[102,28,68,31],[102,29,68,32,"result"],[102,35,68,38],[102,36,68,39,"type"],[102,40,68,43],[103,14,69,20],[103,19,69,25],[103,26,69,32],[104,16,70,24],[105,18,71,28,"opts"],[105,22,71,32],[105,23,71,33,"onConnectionStateChange"],[105,46,71,56],[105,49,71,59,"envelope"],[105,57,71,67],[105,58,71,68,"result"],[105,64,71,74],[105,65,71,75],[106,18,72,28],[107,16,73,24],[108,14,74,20],[108,19,74,25],[108,28,74,34],[109,16,75,24],[110,18,76,28,"opts"],[110,22,76,32],[110,23,76,33,"onStarted"],[110,32,76,42],[110,35,76,45],[111,20,77,32,"context"],[111,27,77,39],[111,29,77,41,"envelope"],[111,37,77,49],[111,38,77,50,"context"],[112,18,78,28],[112,19,78,29],[112,20,78,30],[113,18,79,28],[114,16,80,24],[115,14,81,20],[115,19,81,25],[115,28,81,34],[116,16,82,24],[117,18,83,28,"opts"],[117,22,83,32],[117,23,83,33,"onStopped"],[117,32,83,42],[117,35,83,45],[117,36,83,46],[118,18,84,28],[119,16,85,24],[120,14,86,20],[120,19,86,25],[120,25,86,31],[121,14,87,20],[121,19,87,25,"undefined"],[121,28,87,34],[122,16,88,24],[123,18,89,28,"opts"],[123,22,89,32],[123,23,89,33,"onData"],[123,29,89,39],[123,32,89,42,"envelope"],[123,40,89,50],[123,41,89,51,"result"],[123,47,89,57],[123,48,89,58,"data"],[123,52,89,62],[123,53,89,63],[124,18,90,28],[125,16,91,24],[126,12,92,16],[127,10,93,12],[127,11,93,13],[128,10,94,12,"error"],[128,15,94,17,"error"],[128,16,94,19,"err"],[128,19,94,22],[128,21,94,24],[129,12,95,16,"opts"],[129,16,95,20],[129,17,95,21,"onError"],[129,24,95,28],[129,27,95,31,"err"],[129,30,95,34],[129,31,95,35],[130,10,96,12],[130,11,96,13],[131,10,97,12,"complete"],[131,18,97,20,"complete"],[131,19,97,20],[131,21,97,24],[132,12,98,16,"opts"],[132,16,98,20],[132,17,98,21,"onComplete"],[132,27,98,31],[132,30,98,34],[132,31,98,35],[133,10,99,12],[134,8,100,8],[134,9,100,9],[134,10,100,10],[135,6,101,4],[136,4,101,5],[137,2,101,5],[138,0,101,5],[138,3]],"functionMap":{"names":["<global>","_define_property","TRPCUntypedClient","$request","requestAsPromise","query","mutation","subscription","observable$.subscribe$argument_0.next","observable$.subscribe$argument_0.error","observable$.subscribe$argument_0.complete","constructor","opts.links.map$argument_0"],"mappings":"AAA;ACI;CDY;AEC;ICC;KDU;IEC;KFS;IGC;KHQ;IIC;KJQ;IKC;YCS;aD0B;YEC;aFE;YGC;aHE;KLE;ISC;oCCO,0BD;KTC;CFC"}},"type":"js/module"}]}