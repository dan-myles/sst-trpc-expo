{"dependencies":[{"name":"../http/getHTTPStatusCode.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":75,"index":75}}],"key":"atRD6TdJFlwR2AM6MTdzhTPJPXA="}},{"name":"../rpc/codes.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":76},"end":{"line":2,"column":59,"index":135}}],"key":"41uSBxeFGZUc6Xz8Pl6WE8dSMnQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getErrorShape = getErrorShape;\n  var _getHTTPStatusCode = require(_dependencyMap[0], \"../http/getHTTPStatusCode.mjs\");\n  var _codes = require(_dependencyMap[1], \"../rpc/codes.mjs\");\n  /**\n   * @internal\n   */\n  function getErrorShape(opts) {\n    var path = opts.path,\n      error = opts.error,\n      config = opts.config;\n    var code = opts.error.code;\n    var shape = {\n      message: error.message,\n      code: _codes.TRPC_ERROR_CODES_BY_KEY[code],\n      data: {\n        code,\n        httpStatus: (0, _getHTTPStatusCode.getHTTPStatusCodeFromError)(error)\n      }\n    };\n    if (config.isDev && typeof opts.error.stack === 'string') {\n      shape.data.stack = opts.error.stack;\n    }\n    if (typeof path === 'string') {\n      shape.data.path = path;\n    }\n    return config.errorFormatter({\n      ...opts,\n      shape\n    });\n  }\n});","lineCount":35,"map":[[6,2,1,0],[6,6,1,0,"_getHTTPStatusCode"],[6,24,1,0],[6,27,1,0,"require"],[6,34,1,0],[6,35,1,0,"_dependencyMap"],[6,49,1,0],[7,2,2,0],[7,6,2,0,"_codes"],[7,12,2,0],[7,15,2,0,"require"],[7,22,2,0],[7,23,2,0,"_dependencyMap"],[7,37,2,0],[8,2,4,0],[9,0,5,0],[10,0,6,0],[11,2,6,4],[11,11,6,13,"getErrorShape"],[11,24,6,26,"getErrorShape"],[11,25,6,27,"opts"],[11,29,6,31],[11,31,6,33],[12,4,7,4],[12,8,7,12,"path"],[12,12,7,16],[12,15,7,36,"opts"],[12,19,7,40],[12,20,7,12,"path"],[12,24,7,16],[13,6,7,18,"error"],[13,11,7,23],[13,14,7,36,"opts"],[13,18,7,40],[13,19,7,18,"error"],[13,24,7,23],[14,6,7,25,"config"],[14,12,7,31],[14,15,7,36,"opts"],[14,19,7,40],[14,20,7,25,"config"],[14,26,7,31],[15,4,8,4],[15,8,8,12,"code"],[15,12,8,16],[15,15,8,21,"opts"],[15,19,8,25],[15,20,8,26,"error"],[15,25,8,31],[15,26,8,12,"code"],[15,30,8,16],[16,4,9,4],[16,8,9,10,"shape"],[16,13,9,15],[16,16,9,18],[17,6,10,8,"message"],[17,13,10,15],[17,15,10,17,"error"],[17,20,10,22],[17,21,10,23,"message"],[17,28,10,30],[18,6,11,8,"code"],[18,10,11,12],[18,12,11,14,"TRPC_ERROR_CODES_BY_KEY"],[18,42,11,37],[18,43,11,38,"code"],[18,47,11,42],[18,48,11,43],[19,6,12,8,"data"],[19,10,12,12],[19,12,12,14],[20,8,13,12,"code"],[20,12,13,16],[21,8,14,12,"httpStatus"],[21,18,14,22],[21,20,14,24],[21,24,14,24,"getHTTPStatusCodeFromError"],[21,69,14,50],[21,71,14,51,"error"],[21,76,14,56],[22,6,15,8],[23,4,16,4],[23,5,16,5],[24,4,17,4],[24,8,17,8,"config"],[24,14,17,14],[24,15,17,15,"isDev"],[24,20,17,20],[24,24,17,24],[24,31,17,31,"opts"],[24,35,17,35],[24,36,17,36,"error"],[24,41,17,41],[24,42,17,42,"stack"],[24,47,17,47],[24,52,17,52],[24,60,17,60],[24,62,17,62],[25,6,18,8,"shape"],[25,11,18,13],[25,12,18,14,"data"],[25,16,18,18],[25,17,18,19,"stack"],[25,22,18,24],[25,25,18,27,"opts"],[25,29,18,31],[25,30,18,32,"error"],[25,35,18,37],[25,36,18,38,"stack"],[25,41,18,43],[26,4,19,4],[27,4,20,4],[27,8,20,8],[27,15,20,15,"path"],[27,19,20,19],[27,24,20,24],[27,32,20,32],[27,34,20,34],[28,6,21,8,"shape"],[28,11,21,13],[28,12,21,14,"data"],[28,16,21,18],[28,17,21,19,"path"],[28,21,21,23],[28,24,21,26,"path"],[28,28,21,30],[29,4,22,4],[30,4,23,4],[30,11,23,11,"config"],[30,17,23,17],[30,18,23,18,"errorFormatter"],[30,32,23,32],[30,33,23,33],[31,6,24,8],[31,9,24,11,"opts"],[31,13,24,15],[32,6,25,8,"shape"],[33,4,26,4],[33,5,26,5],[33,6,26,6],[34,2,27,0],[35,0,27,1],[35,3]],"functionMap":{"names":["<global>","getErrorShape"],"mappings":"AAA;ICK;CDqB"}},"type":"js/module"}]}