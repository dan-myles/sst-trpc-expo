{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createRecursiveProxy = exports.createFlatProxy = void 0;\n  var noop = () => {\n    // noop\n  };\n  var freezeIfAvailable = obj => {\n    if (Object.freeze) {\n      Object.freeze(obj);\n    }\n  };\n  function createInnerProxy(callback, path, memo) {\n    var _memo, _cacheKey;\n    var cacheKey = path.join('.');\n    (_memo = memo)[_cacheKey = cacheKey] ?? (_memo[_cacheKey] = new Proxy(noop, {\n      get(_obj, key) {\n        if (typeof key !== 'string' || key === 'then') {\n          // special case for if the proxy is accidentally treated\n          // like a PromiseLike (like in `Promise.resolve(proxy)`)\n          return undefined;\n        }\n        return createInnerProxy(callback, [...path, key], memo);\n      },\n      apply(_1, _2, args) {\n        var lastOfPath = path[path.length - 1];\n        var opts = {\n          args,\n          path\n        };\n        // special handling for e.g. `trpc.hello.call(this, 'there')` and `trpc.hello.apply(this, ['there'])\n        if (lastOfPath === 'call') {\n          opts = {\n            args: args.length >= 2 ? [args[1]] : [],\n            path: path.slice(0, -1)\n          };\n        } else if (lastOfPath === 'apply') {\n          opts = {\n            args: args.length >= 2 ? args[1] : [],\n            path: path.slice(0, -1)\n          };\n        }\n        freezeIfAvailable(opts.args);\n        freezeIfAvailable(opts.path);\n        return callback(opts);\n      }\n    }));\n    return memo[cacheKey];\n  }\n  /**\n   * Creates a proxy that calls the callback with the path and arguments\n   *\n   * @internal\n   */\n  var createRecursiveProxy = callback => createInnerProxy(callback, [], Object.create(null));\n  /**\n   * Used in place of `new Proxy` where each handler will map 1 level deep to another value.\n   *\n   * @internal\n   */\n  exports.createRecursiveProxy = createRecursiveProxy;\n  var createFlatProxy = callback => {\n    return new Proxy(noop, {\n      get(_obj, name) {\n        if (name === 'then') {\n          // special case for if the proxy is accidentally treated\n          // like a PromiseLike (like in `Promise.resolve(proxy)`)\n          return undefined;\n        }\n        return callback(name);\n      }\n    });\n  };\n  exports.createFlatProxy = createFlatProxy;\n});","lineCount":76,"map":[[6,2,1,0],[6,6,1,6,"noop"],[6,10,1,10],[6,13,1,13,"noop"],[6,14,1,13],[6,19,1,17],[7,4,2,0],[8,2,2,0],[8,3,3,1],[9,2,4,0],[9,6,4,6,"freezeIfAvailable"],[9,23,4,23],[9,26,4,27,"obj"],[9,29,4,30],[9,33,4,33],[10,4,5,4],[10,8,5,8,"Object"],[10,14,5,14],[10,15,5,15,"freeze"],[10,21,5,21],[10,23,5,23],[11,6,6,8,"Object"],[11,12,6,14],[11,13,6,15,"freeze"],[11,19,6,21],[11,20,6,22,"obj"],[11,23,6,25],[11,24,6,26],[12,4,7,4],[13,2,8,0],[13,3,8,1],[14,2,9,0],[14,11,9,9,"createInnerProxy"],[14,27,9,25,"createInnerProxy"],[14,28,9,26,"callback"],[14,36,9,34],[14,38,9,36,"path"],[14,42,9,40],[14,44,9,42,"memo"],[14,48,9,46],[14,50,9,48],[15,4,10,4],[15,8,10,8,"_memo"],[15,13,10,13],[15,15,10,15,"_cacheKey"],[15,24,10,24],[16,4,11,4],[16,8,11,10,"cacheKey"],[16,16,11,18],[16,19,11,21,"path"],[16,23,11,25],[16,24,11,26,"join"],[16,28,11,30],[16,29,11,31],[16,32,11,34],[16,33,11,35],[17,4,12,4],[17,5,12,5,"_memo"],[17,10,12,10],[17,13,12,13,"memo"],[17,17,12,17],[17,19,12,19,"_cacheKey"],[17,28,12,28],[17,31,12,31,"cacheKey"],[17,39,12,39],[17,40,12,40],[17,45,12,45,"_memo"],[17,50,12,50],[17,51,12,51,"_cacheKey"],[17,60,12,60],[17,61,12,61],[17,64,12,64],[17,68,12,68,"Proxy"],[17,73,12,73],[17,74,12,74,"noop"],[17,78,12,78],[17,80,12,80],[18,6,13,8,"get"],[18,9,13,11,"get"],[18,10,13,13,"_obj"],[18,14,13,17],[18,16,13,19,"key"],[18,19,13,22],[18,21,13,24],[19,8,14,12],[19,12,14,16],[19,19,14,23,"key"],[19,22,14,26],[19,27,14,31],[19,35,14,39],[19,39,14,43,"key"],[19,42,14,46],[19,47,14,51],[19,53,14,57],[19,55,14,59],[20,10,15,16],[21,10,16,16],[22,10,17,16],[22,17,17,23,"undefined"],[22,26,17,32],[23,8,18,12],[24,8,19,12],[24,15,19,19,"createInnerProxy"],[24,31,19,35],[24,32,19,36,"callback"],[24,40,19,44],[24,42,19,46],[24,43,20,16],[24,46,20,19,"path"],[24,50,20,23],[24,52,21,16,"key"],[24,55,21,19],[24,56,22,13],[24,58,22,15,"memo"],[24,62,22,19],[24,63,22,20],[25,6,23,8],[25,7,23,9],[26,6,24,8,"apply"],[26,11,24,13,"apply"],[26,12,24,15,"_1"],[26,14,24,17],[26,16,24,19,"_2"],[26,18,24,21],[26,20,24,23,"args"],[26,24,24,27],[26,26,24,29],[27,8,25,12],[27,12,25,18,"lastOfPath"],[27,22,25,28],[27,25,25,31,"path"],[27,29,25,35],[27,30,25,36,"path"],[27,34,25,40],[27,35,25,41,"length"],[27,41,25,47],[27,44,25,50],[27,45,25,51],[27,46,25,52],[28,8,26,12],[28,12,26,16,"opts"],[28,16,26,20],[28,19,26,23],[29,10,27,16,"args"],[29,14,27,20],[30,10,28,16,"path"],[31,8,29,12],[31,9,29,13],[32,8,30,12],[33,8,31,12],[33,12,31,16,"lastOfPath"],[33,22,31,26],[33,27,31,31],[33,33,31,37],[33,35,31,39],[34,10,32,16,"opts"],[34,14,32,20],[34,17,32,23],[35,12,33,20,"args"],[35,16,33,24],[35,18,33,26,"args"],[35,22,33,30],[35,23,33,31,"length"],[35,29,33,37],[35,33,33,41],[35,34,33,42],[35,37,33,45],[35,38,34,24,"args"],[35,42,34,28],[35,43,34,29],[35,44,34,30],[35,45,34,31],[35,46,35,21],[35,49,35,24],[35,51,35,26],[36,12,36,20,"path"],[36,16,36,24],[36,18,36,26,"path"],[36,22,36,30],[36,23,36,31,"slice"],[36,28,36,36],[36,29,36,37],[36,30,36,38],[36,32,36,40],[36,33,36,41],[36,34,36,42],[37,10,37,16],[37,11,37,17],[38,8,38,12],[38,9,38,13],[38,15,38,19],[38,19,38,23,"lastOfPath"],[38,29,38,33],[38,34,38,38],[38,41,38,45],[38,43,38,47],[39,10,39,16,"opts"],[39,14,39,20],[39,17,39,23],[40,12,40,20,"args"],[40,16,40,24],[40,18,40,26,"args"],[40,22,40,30],[40,23,40,31,"length"],[40,29,40,37],[40,33,40,41],[40,34,40,42],[40,37,40,45,"args"],[40,41,40,49],[40,42,40,50],[40,43,40,51],[40,44,40,52],[40,47,40,55],[40,49,40,57],[41,12,41,20,"path"],[41,16,41,24],[41,18,41,26,"path"],[41,22,41,30],[41,23,41,31,"slice"],[41,28,41,36],[41,29,41,37],[41,30,41,38],[41,32,41,40],[41,33,41,41],[41,34,41,42],[42,10,42,16],[42,11,42,17],[43,8,43,12],[44,8,44,12,"freezeIfAvailable"],[44,25,44,29],[44,26,44,30,"opts"],[44,30,44,34],[44,31,44,35,"args"],[44,35,44,39],[44,36,44,40],[45,8,45,12,"freezeIfAvailable"],[45,25,45,29],[45,26,45,30,"opts"],[45,30,45,34],[45,31,45,35,"path"],[45,35,45,39],[45,36,45,40],[46,8,46,12],[46,15,46,19,"callback"],[46,23,46,27],[46,24,46,28,"opts"],[46,28,46,32],[46,29,46,33],[47,6,47,8],[48,4,48,4],[48,5,48,5],[48,6,48,6],[48,7,48,7],[49,4,49,4],[49,11,49,11,"memo"],[49,15,49,15],[49,16,49,16,"cacheKey"],[49,24,49,24],[49,25,49,25],[50,2,50,0],[51,2,51,0],[52,0,52,0],[53,0,53,0],[54,0,54,0],[55,0,55,0],[56,2,55,4],[56,6,55,10,"createRecursiveProxy"],[56,26,55,30],[56,29,55,34,"callback"],[56,37,55,42],[56,41,55,45,"createInnerProxy"],[56,57,55,61],[56,58,55,62,"callback"],[56,66,55,70],[56,68,55,72],[56,70,55,74],[56,72,55,76,"Object"],[56,78,55,82],[56,79,55,83,"create"],[56,85,55,89],[56,86,55,90],[56,90,55,94],[56,91,55,95],[56,92,55,96],[57,2,56,0],[58,0,57,0],[59,0,58,0],[60,0,59,0],[61,0,60,0],[62,2,56,0,"exports"],[62,9,56,0],[62,10,56,0,"createRecursiveProxy"],[62,30,56,0],[62,33,56,0,"createRecursiveProxy"],[62,53,56,0],[63,2,60,4],[63,6,60,10,"createFlatProxy"],[63,21,60,25],[63,24,60,29,"callback"],[63,32,60,37],[63,36,60,40],[64,4,61,4],[64,11,61,11],[64,15,61,15,"Proxy"],[64,20,61,20],[64,21,61,21,"noop"],[64,25,61,25],[64,27,61,27],[65,6,62,8,"get"],[65,9,62,11,"get"],[65,10,62,13,"_obj"],[65,14,62,17],[65,16,62,19,"name"],[65,20,62,23],[65,22,62,25],[66,8,63,12],[66,12,63,16,"name"],[66,16,63,20],[66,21,63,25],[66,27,63,31],[66,29,63,33],[67,10,64,16],[68,10,65,16],[69,10,66,16],[69,17,66,23,"undefined"],[69,26,66,32],[70,8,67,12],[71,8,68,12],[71,15,68,19,"callback"],[71,23,68,27],[71,24,68,28,"name"],[71,28,68,32],[71,29,68,33],[72,6,69,8],[73,4,70,4],[73,5,70,5],[73,6,70,6],[74,2,71,0],[74,3,71,1],[75,2,71,2,"exports"],[75,9,71,2],[75,10,71,2,"createFlatProxy"],[75,25,71,2],[75,28,71,2,"createFlatProxy"],[75,43,71,2],[76,0,71,2],[76,3]],"functionMap":{"names":["<global>","noop","freezeIfAvailable","createInnerProxy","Proxy$argument_1.get","Proxy$argument_1.apply","createRecursiveProxy","createFlatProxy"],"mappings":"AAA,aC;CDE;0BEC;CFI;AGC;QCI;SDU;QEC;SFuB;CHG;iCMK,+DN;4BOK;QHE;SGO;CPE"}},"type":"js/module"}]}