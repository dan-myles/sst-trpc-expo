{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":41,"column":0,"index":1309}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":41,"column":0,"index":1309}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@tanstack/react-query","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"67ISVYMo1RFOUYqthAT6DxIQ3Aw="}},{"name":"@trpc/server/unstable-core-do-not-import","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":75,"index":140}}],"key":"v6RfOz0FhqfBuoZo5CXmYCfVJms="}},{"name":"./utils.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":113,"index":254}}],"key":"XZqiGndSzUFgS+0ABF5nOFWZJRU="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.trpcQueryOptions = trpcQueryOptions;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _reactQuery = require(_dependencyMap[2], \"@tanstack/react-query\");\n  var _unstableCoreDoNotImport = require(_dependencyMap[3], \"@trpc/server/unstable-core-do-not-import\");\n  var _utils = require(_dependencyMap[4], \"./utils.mjs\");\n  /**\n   * @internal\n   */\n  function trpcQueryOptions(args) {\n    var query = args.query,\n      path = args.path,\n      queryKey = args.queryKey,\n      opts = args.opts;\n    var queryClient = (0, _utils.unwrapLazyArg)(args.queryClient);\n    var inputIsSkipToken = queryKey[1]?.input === _reactQuery.skipToken;\n    var queryFn = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* (queryFnContext) {\n        var actualOpts = {\n          ...opts,\n          trpc: {\n            ...opts?.trpc,\n            ...(opts?.trpc?.abortOnUnmount ? {\n              signal: queryFnContext.signal\n            } : {\n              signal: null\n            })\n          }\n        };\n        var result = yield query(...(0, _utils.getClientArgs)(queryKey, actualOpts));\n        if ((0, _unstableCoreDoNotImport.isAsyncIterable)(result)) {\n          return (0, _utils.buildQueryFromAsyncIterable)(result, queryClient, queryKey);\n        }\n        return result;\n      });\n      return function queryFn(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return Object.assign((0, _reactQuery.queryOptions)({\n      ...opts,\n      queryKey,\n      queryFn: inputIsSkipToken ? _reactQuery.skipToken : queryFn\n    }), {\n      trpc: (0, _utils.createTRPCOptionsResult)({\n        path\n      })\n    });\n  }\n});","lineCount":54,"map":[[8,2,1,0],[8,6,1,0,"_reactQuery"],[8,17,1,0],[8,20,1,0,"require"],[8,27,1,0],[8,28,1,0,"_dependencyMap"],[8,42,1,0],[9,2,2,0],[9,6,2,0,"_unstableCoreDoNotImport"],[9,30,2,0],[9,33,2,0,"require"],[9,40,2,0],[9,41,2,0,"_dependencyMap"],[9,55,2,0],[10,2,3,0],[10,6,3,0,"_utils"],[10,12,3,0],[10,15,3,0,"require"],[10,22,3,0],[10,23,3,0,"_dependencyMap"],[10,37,3,0],[11,2,5,0],[12,0,6,0],[13,0,7,0],[14,2,7,4],[14,11,7,13,"trpcQueryOptions"],[14,27,7,29,"trpcQueryOptions"],[14,28,7,30,"args"],[14,32,7,34],[14,34,7,36],[15,4,8,4],[15,8,8,12,"query"],[15,13,8,17],[15,16,8,44,"args"],[15,20,8,48],[15,21,8,12,"query"],[15,26,8,17],[16,6,8,19,"path"],[16,10,8,23],[16,13,8,44,"args"],[16,17,8,48],[16,18,8,19,"path"],[16,22,8,23],[17,6,8,25,"queryKey"],[17,14,8,33],[17,17,8,44,"args"],[17,21,8,48],[17,22,8,25,"queryKey"],[17,30,8,33],[18,6,8,35,"opts"],[18,10,8,39],[18,13,8,44,"args"],[18,17,8,48],[18,18,8,35,"opts"],[18,22,8,39],[19,4,9,4],[19,8,9,10,"queryClient"],[19,19,9,21],[19,22,9,24],[19,26,9,24,"unwrapLazyArg"],[19,46,9,37],[19,48,9,38,"args"],[19,52,9,42],[19,53,9,43,"queryClient"],[19,64,9,54],[19,65,9,55],[20,4,10,4],[20,8,10,10,"inputIsSkipToken"],[20,24,10,26],[20,27,10,29,"queryKey"],[20,35,10,37],[20,36,10,38],[20,37,10,39],[20,38,10,40],[20,40,10,42,"input"],[20,45,10,47],[20,50,10,52,"skipToken"],[20,71,10,61],[21,4,11,4],[21,8,11,10,"queryFn"],[21,15,11,17],[22,6,11,17],[22,10,11,17,"_ref"],[22,14,11,17],[22,21,11,17,"_asyncToGenerator2"],[22,39,11,17],[22,40,11,17,"default"],[22,47,11,17],[22,49,11,20],[22,60,11,27,"queryFnContext"],[22,74,11,41],[22,76,11,44],[23,8,12,8],[23,12,12,14,"actualOpts"],[23,22,12,24],[23,25,12,27],[24,10,13,12],[24,13,13,15,"opts"],[24,17,13,19],[25,10,14,12,"trpc"],[25,14,14,16],[25,16,14,18],[26,12,15,16],[26,15,15,19,"opts"],[26,19,15,23],[26,21,15,25,"trpc"],[26,25,15,29],[27,12,16,16],[27,16,16,19,"opts"],[27,20,16,23],[27,22,16,25,"trpc"],[27,26,16,29],[27,28,16,31,"abortOnUnmount"],[27,42,16,45],[27,45,16,48],[28,14,17,20,"signal"],[28,20,17,26],[28,22,17,28,"queryFnContext"],[28,36,17,42],[28,37,17,43,"signal"],[29,12,18,16],[29,13,18,17],[29,16,18,20],[30,14,19,20,"signal"],[30,20,19,26],[30,22,19,28],[31,12,20,16],[31,13,20,17],[32,10,21,12],[33,8,22,8],[33,9,22,9],[34,8,23,8],[34,12,23,14,"result"],[34,18,23,20],[34,27,23,29,"query"],[34,32,23,34],[34,33,23,35],[34,36,23,38],[34,40,23,38,"getClientArgs"],[34,60,23,51],[34,62,23,52,"queryKey"],[34,70,23,60],[34,72,23,62,"actualOpts"],[34,82,23,72],[34,83,23,73],[34,84,23,74],[35,8,24,8],[35,12,24,12],[35,16,24,12,"isAsyncIterable"],[35,56,24,27],[35,58,24,28,"result"],[35,64,24,34],[35,65,24,35],[35,67,24,37],[36,10,25,12],[36,17,25,19],[36,21,25,19,"buildQueryFromAsyncIterable"],[36,55,25,46],[36,57,25,47,"result"],[36,63,25,53],[36,65,25,55,"queryClient"],[36,76,25,66],[36,78,25,68,"queryKey"],[36,86,25,76],[36,87,25,77],[37,8,26,8],[38,8,27,8],[38,15,27,15,"result"],[38,21,27,21],[39,6,28,4],[39,7,28,5],[40,6,28,5],[40,22,11,10,"queryFn"],[40,29,11,17,"queryFn"],[40,30,11,17,"_x"],[40,32,11,17],[41,8,11,17],[41,15,11,17,"_ref"],[41,19,11,17],[41,20,11,17,"apply"],[41,25,11,17],[41,32,11,17,"arguments"],[41,41,11,17],[42,6,11,17],[43,4,11,17],[43,7,28,5],[44,4,29,4],[44,11,29,11,"Object"],[44,17,29,17],[44,18,29,18,"assign"],[44,24,29,24],[44,25,29,25],[44,29,29,25,"queryOptions"],[44,53,29,37],[44,55,29,38],[45,6,30,8],[45,9,30,11,"opts"],[45,13,30,15],[46,6,31,8,"queryKey"],[46,14,31,16],[47,6,32,8,"queryFn"],[47,13,32,15],[47,15,32,17,"inputIsSkipToken"],[47,31,32,33],[47,34,32,36,"skipToken"],[47,55,32,45],[47,58,32,48,"queryFn"],[48,4,33,4],[48,5,33,5],[48,6,33,6],[48,8,33,8],[49,6,34,8,"trpc"],[49,10,34,12],[49,12,34,14],[49,16,34,14,"createTRPCOptionsResult"],[49,46,34,37],[49,48,34,38],[50,8,35,12,"path"],[51,6,36,8],[51,7,36,9],[52,4,37,4],[52,5,37,5],[52,6,37,6],[53,2,38,0],[54,0,38,1],[54,3]],"functionMap":{"names":["<global>","trpcQueryOptions","queryFn"],"mappings":"AAA;ICM;oBCI;KDiB;CDU"}},"type":"js/module"}]}