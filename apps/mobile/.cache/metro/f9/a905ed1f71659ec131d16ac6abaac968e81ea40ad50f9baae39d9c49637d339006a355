{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AverageWindow = void 0;\n  /**\n   * Helper class to calculate running average of the most recent n values\n   */\n  var AverageWindow = /** @class */function () {\n    function AverageWindow(size, startValue) {\n      this.nextIndex = 0;\n      this.inputValues = new Array(Math.max(1, size));\n      this.currentAverage = startValue !== null && startValue !== void 0 ? startValue : 0;\n      this.currentCount = startValue === undefined ? 0 : 1;\n      this.nextIndex = this.currentCount;\n      this.inputValues[0] = startValue;\n    }\n    Object.defineProperty(AverageWindow.prototype, \"currentValue\", {\n      /**\n       * Can be used to get the current average value\n       */\n      get: function () {\n        return this.currentAverage;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    /**\n     *\n     * @param value Add new value to the average window and updated current average\n     */\n    AverageWindow.prototype.addValue = function (value) {\n      var target = this.getNextIndex();\n      var oldValue = this.inputValues[target];\n      var newCount = oldValue === undefined ? this.currentCount + 1 : this.currentCount;\n      this.inputValues[target] = value;\n      this.currentAverage = this.currentAverage * (this.currentCount / newCount) + (value - (oldValue !== null && oldValue !== void 0 ? oldValue : 0)) / newCount;\n      this.currentCount = newCount;\n    };\n    AverageWindow.prototype.getNextIndex = function () {\n      // starts from 0 once we reach end of the array\n      var newTarget = this.nextIndex;\n      this.nextIndex = (this.nextIndex + 1) % this.inputValues.length;\n      return newTarget;\n    };\n    return AverageWindow;\n  }();\n  exports.AverageWindow = AverageWindow;\n});","lineCount":51,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"AverageWindow"],[7,23,3,21],[7,26,3,24],[7,31,3,29],[7,32,3,30],[8,2,4,0],[9,0,5,0],[10,0,6,0],[11,2,7,0],[11,6,7,4,"AverageWindow"],[11,19,7,17],[11,22,7,20],[11,35,7,35],[11,47,7,47],[12,4,8,4],[12,13,8,13,"AverageWindow"],[12,26,8,26,"AverageWindow"],[12,27,8,27,"size"],[12,31,8,31],[12,33,8,33,"startValue"],[12,43,8,43],[12,45,8,45],[13,6,9,8],[13,10,9,12],[13,11,9,13,"nextIndex"],[13,20,9,22],[13,23,9,25],[13,24,9,26],[14,6,10,8],[14,10,10,12],[14,11,10,13,"inputValues"],[14,22,10,24],[14,25,10,27],[14,29,10,31,"Array"],[14,34,10,36],[14,35,10,37,"Math"],[14,39,10,41],[14,40,10,42,"max"],[14,43,10,45],[14,44,10,46],[14,45,10,47],[14,47,10,49,"size"],[14,51,10,53],[14,52,10,54],[14,53,10,55],[15,6,11,8],[15,10,11,12],[15,11,11,13,"currentAverage"],[15,25,11,27],[15,28,11,30,"startValue"],[15,38,11,40],[15,43,11,45],[15,47,11,49],[15,51,11,53,"startValue"],[15,61,11,63],[15,66,11,68],[15,71,11,73],[15,72,11,74],[15,75,11,77,"startValue"],[15,85,11,87],[15,88,11,90],[15,89,11,91],[16,6,12,8],[16,10,12,12],[16,11,12,13,"currentCount"],[16,23,12,25],[16,26,12,28,"startValue"],[16,36,12,38],[16,41,12,43,"undefined"],[16,50,12,52],[16,53,12,55],[16,54,12,56],[16,57,12,59],[16,58,12,60],[17,6,13,8],[17,10,13,12],[17,11,13,13,"nextIndex"],[17,20,13,22],[17,23,13,25],[17,27,13,29],[17,28,13,30,"currentCount"],[17,40,13,42],[18,6,14,8],[18,10,14,12],[18,11,14,13,"inputValues"],[18,22,14,24],[18,23,14,25],[18,24,14,26],[18,25,14,27],[18,28,14,30,"startValue"],[18,38,14,40],[19,4,15,4],[20,4,16,4,"Object"],[20,10,16,10],[20,11,16,11,"defineProperty"],[20,25,16,25],[20,26,16,26,"AverageWindow"],[20,39,16,39],[20,40,16,40,"prototype"],[20,49,16,49],[20,51,16,51],[20,65,16,65],[20,67,16,67],[21,6,17,8],[22,0,18,0],[23,0,19,0],[24,6,20,8,"get"],[24,9,20,11],[24,11,20,13],[24,20,20,13,"get"],[24,21,20,13],[24,23,20,25],[25,8,21,12],[25,15,21,19],[25,19,21,23],[25,20,21,24,"currentAverage"],[25,34,21,38],[26,6,22,8],[26,7,22,9],[27,6,23,8,"enumerable"],[27,16,23,18],[27,18,23,20],[27,23,23,25],[28,6,24,8,"configurable"],[28,18,24,20],[28,20,24,22],[29,4,25,4],[29,5,25,5],[29,6,25,6],[30,4,26,4],[31,0,27,0],[32,0,28,0],[33,0,29,0],[34,4,30,4,"AverageWindow"],[34,17,30,17],[34,18,30,18,"prototype"],[34,27,30,27],[34,28,30,28,"addValue"],[34,36,30,36],[34,39,30,39],[34,49,30,49,"value"],[34,54,30,54],[34,56,30,56],[35,6,31,8],[35,10,31,12,"target"],[35,16,31,18],[35,19,31,21],[35,23,31,25],[35,24,31,26,"getNextIndex"],[35,36,31,38],[35,37,31,39],[35,38,31,40],[36,6,32,8],[36,10,32,12,"oldValue"],[36,18,32,20],[36,21,32,23],[36,25,32,27],[36,26,32,28,"inputValues"],[36,37,32,39],[36,38,32,40,"target"],[36,44,32,46],[36,45,32,47],[37,6,33,8],[37,10,33,12,"newCount"],[37,18,33,20],[37,21,33,23,"oldValue"],[37,29,33,31],[37,34,33,36,"undefined"],[37,43,33,45],[37,46,33,48],[37,50,33,52],[37,51,33,53,"currentCount"],[37,63,33,65],[37,66,33,68],[37,67,33,69],[37,70,33,72],[37,74,33,76],[37,75,33,77,"currentCount"],[37,87,33,89],[38,6,34,8],[38,10,34,12],[38,11,34,13,"inputValues"],[38,22,34,24],[38,23,34,25,"target"],[38,29,34,31],[38,30,34,32],[38,33,34,35,"value"],[38,38,34,40],[39,6,35,8],[39,10,35,12],[39,11,35,13,"currentAverage"],[39,25,35,27],[39,28,36,12],[39,32,36,16],[39,33,36,17,"currentAverage"],[39,47,36,31],[39,51,36,35],[39,55,36,39],[39,56,36,40,"currentCount"],[39,68,36,52],[39,71,36,55,"newCount"],[39,79,36,63],[39,80,36,64],[39,83,37,16],[39,84,37,17,"value"],[39,89,37,22],[39,93,37,26,"oldValue"],[39,101,37,34],[39,106,37,39],[39,110,37,43],[39,114,37,47,"oldValue"],[39,122,37,55],[39,127,37,60],[39,132,37,65],[39,133,37,66],[39,136,37,69,"oldValue"],[39,144,37,77],[39,147,37,80],[39,148,37,81],[39,149,37,82],[39,153,37,86,"newCount"],[39,161,37,94],[40,6,38,8],[40,10,38,12],[40,11,38,13,"currentCount"],[40,23,38,25],[40,26,38,28,"newCount"],[40,34,38,36],[41,4,39,4],[41,5,39,5],[42,4,40,4,"AverageWindow"],[42,17,40,17],[42,18,40,18,"prototype"],[42,27,40,27],[42,28,40,28,"getNextIndex"],[42,40,40,40],[42,43,40,43],[42,55,40,55],[43,6,41,8],[44,6,42,8],[44,10,42,12,"newTarget"],[44,19,42,21],[44,22,42,24],[44,26,42,28],[44,27,42,29,"nextIndex"],[44,36,42,38],[45,6,43,8],[45,10,43,12],[45,11,43,13,"nextIndex"],[45,20,43,22],[45,23,43,25],[45,24,43,26],[45,28,43,30],[45,29,43,31,"nextIndex"],[45,38,43,40],[45,41,43,43],[45,42,43,44],[45,46,43,48],[45,50,43,52],[45,51,43,53,"inputValues"],[45,62,43,64],[45,63,43,65,"length"],[45,69,43,71],[46,6,44,8],[46,13,44,15,"newTarget"],[46,22,44,24],[47,4,45,4],[47,5,45,5],[48,4,46,4],[48,11,46,11,"AverageWindow"],[48,24,46,24],[49,2,47,0],[49,3,47,1],[49,4,47,2],[49,5,47,4],[50,2,48,0,"exports"],[50,9,48,7],[50,10,48,8,"AverageWindow"],[50,23,48,21],[50,26,48,24,"AverageWindow"],[50,39,48,37],[51,0,48,38],[51,3]],"functionMap":{"names":["<global>","<anonymous>","AverageWindow","Object.defineProperty$argument_2.get","prototype.addValue","prototype.getNextIndex"],"mappings":"AAA;mCCM;ICC;KDO;aEK;SFE;uCGQ;KHS;2CIC;KJK;CDE"}},"type":"js/module"}]}